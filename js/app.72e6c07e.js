(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var o=s[r];0!==n[o]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=s[0]))}return t}var a={},r={app:0},n={app:0},i=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0fe70b0a":"bc444cb3","chunk-39520491":"7790c0ab","chunk-804632c8":"d2dc385e"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={"chunk-0fe70b0a":1,"chunk-39520491":1,"chunk-804632c8":1};r[t]?e.push(r[t]):0!==r[t]&&s[t]&&e.push(r[t]=new Promise((function(e,s){for(var a="css/"+({}[t]||t)+"."+{"chunk-0fe70b0a":"b1389f84","chunk-39520491":"a854ccf4","chunk-804632c8":"bd6c5361"}[t]+".css",n=c.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===n))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===a||u===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||n,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],p.parentNode.removeChild(p),s(i)},p.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){r[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,s){a=n[t]=[e,s]}));e.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var s=n[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,s[1](d)}n[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(s,a,function(e){return t[e]}.bind(null,a));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/Twitter-frontend/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"031e":function(t,e,s){},"0427":function(t,e,s){"use strict";s("27e4")},"08b7":function(t,e,s){"use strict";s("9fdd")},"0cd9":function(t,e,s){},"0f06":function(t,e,s){},"12ab":function(t,e,s){},"1a86":function(t,e,s){t.exports=s.p+"img/Logo.af0af53b.svg"},"1b5e":function(t,e,s){},"1bfd":function(t,e,s){"use strict";s("cf5f")},"1dfe":function(t,e,s){},"1e83":function(t,e,s){"use strict";s("3d3c")},2687:function(t,e,s){"use strict";s("d908")},"269a":function(t,e,s){},2708:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return i}));var a=s("c1df"),r=s.n(a),n={filters:{fromNow:function(t){return t?r()(t).fromNow():"-"}}},i={filters:{emptyImage:function(t){return"0"===t&&(t=""),t||"https://via.placeholder.com/350x220/DFDFDF?text=No+Image"}}}},"27e4":function(t,e,s){},2981:function(t,e,s){"use strict";s("b072")},"2af5":function(t,e,s){"use strict";s("e439")},"2fa3":function(t,e,s){"use strict";s.d(e,"b",(function(){return l})),s.d(e,"a",(function(){return u}));s("d3b7");var a=s("bc3a"),r=s.n(a),n=s("3d20"),i=s.n(n),o="https://mighty-spire-48914.herokuapp.com/api",c=r.a.create({baseURL:o});c.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers["Authorization"]="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t)}));var l=c,u=i.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})},"35cd":function(t,e,s){},"39c3":function(t,e,s){},"3d3c":function(t,e,s){},"41a2":function(t,e,s){"use strict";s("f57d")},4360:function(t,e,s){"use strict";var a=s("1da1"),r=s("5530"),n=(s("96cf"),s("b0c0"),s("2b0e")),i=s("2f62"),o=s("4cce");n["a"].use(i["a"]),e["a"]=new i["a"].Store({state:{currentUser:{id:-1,account:"",name:"",email:"",avatar:"",isAdmin:!1},isAuthenticated:!1,token:""},mutations:{setCurrentUser:function(t,e){t.currentUser=Object(r["a"])(Object(r["a"])({},t.currentUser),e),t.isAuthenticated=!0,t.token=localStorage.getItem("token")},revokeCurrentUser:function(t){t.currentUser={},t.isAuthenticated=!1,t.token="",localStorage.removeItem("token")}},actions:{fetchCurrentUser:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,a,r,n,i,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,o["a"].getCurrentUser();case 4:return a=e.sent,r=a.data,n=r.id,i=r.account,c=r.name,l=r.email,u=r.avatar,d=r.isAdmin,s("setCurrentUser",{id:n,account:i,name:c,email:l,avatar:u,isAdmin:d}),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e["catch"](1),console.log("error",e.t0),console.error("can not fetch user information"),s("revokeCurrentUser"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})))()}},modules:{}})},"43db":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="4678"},"49dc":function(t,e,s){"use strict";s("43db")},"4a1c":function(t,e,s){t.exports=s.p+"img/logoutIcon.a25ab39c.svg"},"4a84":function(t,e,s){t.exports=s.p+"img/btn_noti.589f2e74.svg"},"4cce":function(t,e,s){"use strict";s("b0c0");var a=s("2fa3");e["a"]={get:function(t){var e=t.userId;return a["b"].get("/users/".concat(e))},getUsersTweets:function(t){var e=t.userId;return a["b"].get("/users/".concat(e,"/tweets"))},getUsersRepliedTweets:function(t){var e=t.userId;return a["b"].get("/users/".concat(e,"/replied_tweets"))},getUsersLikes:function(t){var e=t.userId;return a["b"].get("/users/".concat(e,"/likes"))},getCurrentUser:function(){return a["b"].get("/users/currentUser")},getTopUsers:function(){return a["b"].get("/users/top")},editAccount:function(t){var e=t.id,s=t.account,r=t.name,n=t.email,i=t.password,o=t.checkPassword;return a["b"].put("users/".concat(e,"/account"),{account:s,name:r,email:n,password:i,checkPassword:o})},editInfo:function(t){var e=t.userId,s=t.formData;return a["b"].put("/users/".concat(e),s)},getFollowings:function(t){var e=t.userId;return a["b"].get("/users/".concat(e,"/followings"))},getFollowers:function(t){var e=t.userId;return a["b"].get("/users/".concat(e,"/followers"))},addFollow:function(t){var e=t.id;return a["b"].post("/followships",{id:e})},deleteFollow:function(t){var e=t.followingId;return a["b"].delete("/followships/".concat(e))}}},"4cd8":function(t,e,s){"use strict";s("269a")},"54cc":function(t,e,s){t.exports=s.p+"img/icon_uploadPhoto.8d63fc18.svg"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"twitter"}},[s("router-view")],1)},n=[],i=(s("4989"),s("ab8b"),{name:"App"}),o=i,c=s("2877"),l=Object(c["a"])(o,r,n,!1,null,null,null),u=l.exports,d=s("1da1"),p=(s("96cf"),s("d3b7"),s("3ca3"),s("ddb0"),s("caad"),s("b0c0"),s("2532"),s("8c4f")),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[t._v("404 Page Not Found")])},f=[],w={},v=Object(c["a"])(w,m,f,!1,null,null,null),h=v.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-5"},[t._m(0),s("form",{staticClass:"w-100",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(e)}}},[s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"account"}},[t._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"email",placeholder:"",autocomplete:"username",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"password"}},[t._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"",minlength:"6",maxlength:"12",autocomplete:"current-password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{disabled:t.isProcessing,type:"submit"}},[t._v(" 登入 ")]),s("div",{staticClass:"signup-admin-link"},[s("p",[s("router-link",{staticClass:"link",attrs:{to:"/signup"}},[t._v("註冊 Alphitter")]),t._v(" ・ "),s("router-link",{staticClass:"link",attrs:{to:"/admin/signin"}},[t._v("後台登入")])],1)])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title text-center"},[a("img",{staticClass:"mb-4",attrs:{src:s("1a86"),alt:""}}),a("h1",[t._v("登入 Alphitter")])])}],b=s("2fa3"),k={signIn:function(t){var e=t.email,s=t.password;return b["b"].post("/users/signin",{email:e,password:s})},signUp:function(t){var e=t.account,s=t.name,a=t.email,r=t.password,n=t.checkPassword;return b["b"].post("/users",{account:e,name:s,email:a,password:r,checkPassword:n})}},x={name:"UserSignIn",data:function(){return{email:"",password:"",isProcessing:!1}},methods:{handleSubmit:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.email&&t.password){e.next=4;break}return b["a"].fire({icon:"warning",title:"請輸入帳號密碼"}),e.abrupt("return");case 4:return t.isProcessing=!0,e.next=7,k.signIn({email:t.email,password:t.password});case 7:if(s=e.sent,a=s.data,"success"===a.status){e.next=11;break}throw new Error(a.message);case 11:localStorage.setItem("token",a.token),a.user.isAdmin?(b["a"].fire({icon:"warning",title:"非一般使用者帳號，自動前往後台登入頁"}),t.$store.commit("revokeCurrentUser"),t.$router.push("/admin/signin")):(t.$store.commit("setCurrentUser",a.user),t.$router.push("/tweets")),e.next=21;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0),t.isProcessing=!1,t.password="",b["a"].fire({icon:"warning",title:"輸入的帳號密碼有誤"});case 21:case"end":return e.stop()}}),e,null,[[0,15]])})))()}}},_=x,j=(s("73ee"),Object(c["a"])(_,g,C,!1,null,"6de06b26",null)),y=j.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper py-5"},[t._m(0),s("div",{staticClass:"center-column"},[s("SettingForm",{attrs:{"is-processing":t.isProcessing},on:{"after-submit":t.handleAfterSubmit}})],1)])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title text-center"},[a("img",{staticClass:"mb-4",attrs:{src:s("1a86"),alt:""}}),a("h1",[t._v("建立你的帳號")])])}],P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"forms",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(e)}}},[s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"account"}},[t._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.account,expression:"userData.account"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"text",placeholder:"",autocomplete:"account",required:"",autofocus:""},domProps:{value:t.userData.account},on:{input:function(e){e.target.composing||t.$set(t.userData,"account",e.target.value)}}})]),t.isUserSetting?s("div",{staticClass:"user-setting-margin"}):t._e(),s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"name"}},[t._v("名稱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.name,expression:"userData.name"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text",placeholder:"",autocomplete:"username",required:"",autofocus:""},domProps:{value:t.userData.name},on:{input:function(e){e.target.composing||t.$set(t.userData,"name",e.target.value)}}})]),t.isUserSetting?s("div",{staticClass:"user-setting-margin"}):t._e(),s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.email,expression:"userData.email"}],staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",placeholder:"",autocomplete:"email",required:"",autofocus:""},domProps:{value:t.userData.email},on:{input:function(e){e.target.composing||t.$set(t.userData,"email",e.target.value)}}})]),t.isUserSetting?s("div",{staticClass:"user-setting-margin"}):t._e(),s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"password"}},[t._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.password,expression:"userData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"",minlength:"6",required:""},domProps:{value:t.userData.password},on:{input:function(e){e.target.composing||t.$set(t.userData,"password",e.target.value)}}})]),t.isUserSetting?s("div",{staticClass:"user-setting-margin"}):t._e(),s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"check-password"}},[t._v("密碼確認")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.checkPassword,expression:"userData.checkPassword"}],staticClass:"form-control",attrs:{id:"check-password",name:"checkPassword",type:"password",placeholder:"",minlength:"6",required:""},domProps:{value:t.userData.checkPassword},on:{input:function(e){e.target.composing||t.$set(t.userData,"checkPassword",e.target.value)}}})]),s("div",{staticClass:"action-btns"},[t.isUserSetting?t._e():s("button",{staticClass:"regist-btn btn btn-lg btn-primary btn-block",attrs:{disabled:t.isProcessing,type:"submit"}},[t._v(" 註冊 ")]),t.isUserSetting?t._e():s("div",{staticClass:"signup-admin-link"},[s("p",[s("router-link",{staticClass:"link",attrs:{to:"/signin"}},[t._v("取消")])],1)]),t.isUserSetting?s("button",{staticClass:"save-btn btn btn-lg btn-primary btn-block",attrs:{disabled:t.isProcessing,type:"submit"}},[t._v(" 儲存 ")]):t._e()])])},U=[],F=s("5530"),O={name:"SettingForm",props:{initialUserData:{type:Object,default:function(){return{id:-1,account:"",name:"",email:"",password:""}}},isProcessing:{type:Boolean,default:!1},isUserSetting:{type:Boolean,default:!1}},data:function(){return{userData:Object(F["a"])({},this.initialUserData)}},watch:{initialUserData:function(t){this.userData=Object(F["a"])(Object(F["a"])({},this.userData),t)}},methods:{handleSubmit:function(){this.userData.account&&this.userData.name&&this.userData.email&&this.userData.password&&this.userData.checkPassword?this.userData.password.length<6?b["a"].fire({icon:"warning",title:"密碼長度不足"}):this.userData.checkPassword===this.userData.password?this.$emit("after-submit",{account:this.userData.account,name:this.userData.name,email:this.userData.email,password:this.userData.password,checkPassword:this.userData.checkPassword}):b["a"].fire({icon:"warning",title:"密碼與密碼確認不同"}):b["a"].fire({icon:"warning",title:"請輸入所有欄位"})}}},S=O,R=(s("1e83"),Object(c["a"])(S,P,U,!1,null,"0e02e981",null)),I=R.exports,D={name:"UserSignUp",components:{SettingForm:I},data:function(){return{isProcessing:!1}},methods:{handleAfterSubmit:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,o,c,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.account,r=t.name,n=t.email,i=t.password,o=t.checkPassword,s.prev=1,e.isProcessing=!0,s.next=5,k.signUp({account:a,name:r,email:n,password:i,checkPassword:o});case 5:if(c=s.sent,l=c.data,"success"===l.status){s.next=9;break}throw new Error(l.message);case 9:e.$router.push("/signin"),s.next=17;break;case 12:s.prev=12,s.t0=s["catch"](1),e.isProcessing=!1,console.log(s.t0),b["a"].fire({icon:"error",title:"無法註冊用戶，請稍後再試"});case 17:case"end":return s.stop()}}),s,null,[[1,12]])})))()}}},M=D,$=(s("2af5"),Object(c["a"])(M,T,L,!1,null,"08bb34e4",null)),E=$.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"wrapper"},[s("SideBar",{staticClass:"side-bar",on:{"after-post-tweet":t.afterPostTweet}}),s("div",{staticClass:"center-column"},[t._m(0),s("PostTweet",{staticClass:"post-tweet",on:{"after-post-tweet":t.afterPostTweet}}),s("div",{staticClass:"divider"}),t._l(t.tweets,(function(t){return s("TweetsList",{key:t.id,staticClass:"tweet-list",attrs:{"initial-tweet":t}})}))],2),s("Recommendation",{staticClass:"recommendation-list"})],1)])},N=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-title"},[t._v("首頁")])])}],B=(s("d81d"),s("a4d3"),s("e01a"),s("7c08")),H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"wrapper"},[s("img",{staticClass:"user-image",attrs:{src:t.currentUser.avatar}}),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTweet,expression:"newTweet"}],staticClass:"tweet-text",attrs:{type:"text",maxlength:"140",placeholder:"有什麼新鮮事？"},domProps:{value:t.newTweet},on:{input:function(e){e.target.composing||(t.newTweet=e.target.value)}}})]),s("button",{class:{disabled:t.isProcessing},attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.postTweet(t.newTweet)}}},[s("span",[t._v("推文")])])])])},Z=[],V=(s("498a"),s("6783")),q=s("2f62"),z={name:"PostTweet",computed:Object(F["a"])({},Object(q["b"])(["currentUser"])),data:function(){return{newTweet:"",isProcessing:!1}},watch:{newTweet:function(t){140===t.length&&b["a"].fire({icon:"warning",title:"已達字數上限"})}},methods:{postTweet:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(""!==e.newTweet.trim()){s.next=3;break}return b["a"].fire({icon:"warning",title:"尚未輸入內容"}),s.abrupt("return");case 3:return s.prev=3,e.isProcessing=!0,s.next=7,V["a"].post({newTweet:t});case 7:if(a=s.sent,r=a.data,"success"===r.status){s.next=11;break}throw new Error(r.message);case 11:e.newTweet="",e.$emit("after-post-tweet"),e.isProcessing=!1,e.isShowModal=!1,s.next=22;break;case 17:s.prev=17,s.t0=s["catch"](3),console.log(s.t0),b["a"].fire({icon:"error",title:"無法新增推文，請稍後再試"}),e.isProcessing=!1;case 22:case"end":return s.stop()}}),s,null,[[3,17]])})))()}}},J=z,K=(s("666d"),Object(c["a"])(J,H,Z,!1,null,"036d4e96",null)),G=K.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tweet-wrapper"},[a("div",[a("div",{staticClass:"tweet-content"},[a("div",{staticClass:"tweet-detail"},[a("router-link",{attrs:{to:{name:"user",params:{id:t.tweet.userId}}}},[a("img",{staticClass:"tweet-user-photo",attrs:{src:t.tweet.avatar}})]),a("div",{staticClass:"tweet"},[a("div",{staticClass:"tweet-user"},[a("router-link",{attrs:{to:{name:"user",params:{id:t.tweet.userId}}}},[a("span",{staticClass:"tweet-user-name"},[t._v(t._s(t.tweet.name))])]),a("router-link",{attrs:{to:{name:"user",params:{id:t.tweet.userId}}}},[a("span",{staticClass:"tweet-user-info"},[t._v("@"+t._s(t.tweet.account))])]),a("span",[t._v("・")]),a("router-link",{attrs:{to:{name:"tweets-replies",params:{id:t.tweet.id}}}},[a("span",{staticClass:"tweet-user-info"},[t._v(t._s(t._f("fromNow")(t.tweet.createdAt)))])])],1),a("button",{staticClass:"tweet-description",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openReplies(t.tweet.id)}}},[t._v(" "+t._s(t.tweet.description)+" ")])])],1),a("div",{staticClass:"tweet-actions"},[a("button",{staticClass:"action tweet-actions-reply",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleReplyModal(t.tweet)}}},[a("img",{staticClass:"icon tweet-actions-reply-icon",attrs:{src:s("eaaa")}}),a("span",[t._v(t._s(t.tweet.replyCount))])]),a("div",{staticClass:"action tweet-actions-like"},[t.tweet.isLiked?a("button",{staticClass:"tweet-actions-like-icon",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteLike(t.tweet.id)}}},[a("img",{staticClass:"icon tweet-actions-like-icon",attrs:{src:s("f76f")}})]):a("button",{staticClass:"tweet-actions-like-icon",attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addLike(t.tweet.id)}}},[a("img",{staticClass:"icon tweet-actions-like-icon",attrs:{src:s("d064")}})]),a("span",{class:{likes:t.tweet.isLiked}},[t._v(t._s(t.tweet.likeCount))])])])])]),a("ReplyModal",{attrs:{"initial-is-reply-modal-toggle":t.isReplyModalToggle,"modal-tweet":t.modalTweet},on:{"after-close-modal":t.closeReplyModal,"after-submit":t.afterSubmit}})],1)},W=[],X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isReplyModalToggle?s("div",{staticClass:"modal-background-wrapper"},[s("div",{staticClass:"reply-modal-wrapper"},[s("header",{staticClass:"reply-modal-header"},[s("button",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeReplyModal(e)}}},[s("svg",{staticClass:"close-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M13.414 12.0001L19.207 6.20712C19.597 5.81712 19.597 5.18412 19.207 4.79312C18.817 4.40212 18.184 4.40312 17.793 4.79312L12 10.5861L6.207 4.79312C5.817 4.40312 5.184 4.40312 4.793 4.79312C4.402 5.18312 4.403 5.81612 4.793 6.20712L10.586 12.0001L4.793 17.7931C4.403 18.1831 4.403 18.8161 4.793 19.2071C4.988 19.4021 5.243 19.5001 5.5 19.5001C5.757 19.5001 6.012 19.4021 6.207 19.2071L12 13.4141L17.793 19.2071C17.988 19.4021 18.243 19.5001 18.5 19.5001C18.757 19.5001 19.012 19.4021 19.207 19.2071C19.597 18.8171 19.597 18.1841 19.207 17.7931L13.414 12.0001Z",fill:"#FF6600"}})])])]),s("div",{staticClass:"reply-modal-content"},[s("div",{staticClass:"upper-wrapper"},[s("div",{staticClass:"image-area"},[s("img",{staticClass:"tweet-user-avatar",attrs:{src:t.modalTweet.avatar,alt:""}}),t._m(0)]),s("div",{staticClass:"text-area"},[s("div",{staticClass:"profile-wrapper"},[s("div",{staticClass:"tweet-name"},[t._v(t._s(t.modalTweet.name))]),s("div",{staticClass:"tweet-account"},[t._v("@"+t._s(t.modalTweet.account))]),s("div",{staticClass:"tweet-time"},[t._v(" •"+t._s(t._f("fromNow")(t.modalTweet.createdAt))+" ")])]),s("div",{staticClass:"text-wrapper"},[t._v(" "+t._s(t.modalTweet.description)+" ")]),s("div",{staticClass:"interaction-wrapper"},[t._v(" 回覆給"),s("span",{staticClass:"interaction-tweet-account"},[t._v("@"+t._s(t.modalTweet.account))])])])]),s("form",{staticClass:"forms",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(e)}}},[s("div",{staticClass:"lower-wrapper"},[s("div",{staticClass:"reply-content"},[s("img",{staticClass:"current-user-avatar",attrs:{src:t.currentUser.avatar,alt:""}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"reply-comment",attrs:{name:"comment",id:"comment",placeholder:"推你的回覆"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),s("footer",{staticClass:"reply-modal-footer"},[s("button",{staticClass:"reply-btn",class:{disabled:t.isProcessing},attrs:{disabled:t.isProcessing,type:"submit"}},[t._v(" 回覆 ")])])])])])])]):t._e()},Y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"divider-wrapper"},[s("div",{staticClass:"divider"})])}],tt=s("2708"),et={name:"ReplyModal",mixins:[tt["b"]],props:{initialIsReplyModalToggle:{type:Boolean,required:!0,default:!1},modalTweet:{type:Object,required:!0}},data:function(){return{isReplyModalToggle:!1,comment:"",isProcessing:!1}},methods:{closeReplyModal:function(){this.isReplyModalToggle=!1,this.$emit("after-close-modal",this.isReplyModalToggle)},handleSubmit:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.comment){e.next=3;break}return b["a"].fire({icon:"warning",title:"推文內容不可為空"}),e.abrupt("return");case 3:return e.prev=3,t.isProcessing=!0,e.next=7,V["a"].reply({id:t.modalTweet.id,comment:t.comment});case 7:if(s=e.sent,a=s.data,"success"===a.status){e.next=11;break}throw new Error(a.message);case 11:t.comment="",t.closeReplyModal(),t.$emit("after-submit"),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),console.log(e.t0),b["a"].fire({icon:"error",title:"無法新增回覆，請稍後再試"});case 20:t.isProcessing=!1;case 21:case"end":return e.stop()}}),e,null,[[3,16]])})))()}},created:function(){this.isReplyModalToggle=this.initialIsReplyModalToggle},watch:{initialIsReplyModalToggle:function(t){this.isReplyModalToggle=t}},computed:Object(F["a"])({},Object(q["b"])(["currentUser"]))},st=et,at=(s("bbee"),Object(c["a"])(st,X,Y,!1,null,"61b97a25",null)),rt=at.exports,nt={mixins:[tt["b"]],name:"TweetList",components:{ReplyModal:rt},props:{initialTweet:{type:Object,required:!0}},data:function(){return{tweet:this.initialTweet,modalTweet:{},isReplyModalToggle:!1,isProcessing:!1}},watch:{initialTweet:function(t){this.tweet=Object(F["a"])(Object(F["a"])({},this.tweet),t)}},computed:Object(F["a"])({},Object(q["b"])(["currentUser"])),methods:{toggleReplyModal:function(t){this.isReplyModalToggle=!0,this.modalTweet=t},closeReplyModal:function(t){this.isReplyModalToggle=t},openReplies:function(t){"user-replied-tweets"===this.$route.name?this.$router.push({name:"tweets-replies",params:{id:this.tweet.tweetId}}):this.$router.push({name:"tweets-replies",params:{id:t}})},addLike:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,V["a"].addLike({tweetId:t});case 4:if(a=s.sent,r=a.data,"success"===r.status){s.next=8;break}throw new Error(r.message);case 8:e.tweet.isLiked=!0,e.tweet.likeCount=e.tweet.likeCount+1,e.isProcessing=!1,s.next=18;break;case 13:s.prev=13,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法按讚，請稍後再試"}),e.isProcessing=!1;case 18:case"end":return s.stop()}}),s,null,[[0,13]])})))()},deleteLike:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,V["a"].deleteLike({tweetId:t});case 4:if(a=s.sent,r=a.data,"success"===r.status){s.next=8;break}throw new Error(r.message);case 8:e.tweet.isLiked=!1,e.tweet.likeCount=e.tweet.likeCount-1,e.isProcessing=!1,s.next=18;break;case 13:s.prev=13,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取消按讚，請稍後再試"}),e.isProcessing=!1;case 18:case"end":return s.stop()}}),s,null,[[0,13]])})))()},afterSubmit:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a,r,n,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.tweet,a=s.userId,r=s.account,n=s.avatar,i=s.name,e.prev=1,e.next=4,V["a"].getTweet({tweetId:t.tweet.id});case 4:o=e.sent,c=o.data,t.tweet=Object(F["a"])(Object(F["a"])({},c),{},{userId:a,account:r,avatar:n,name:i}),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0),b["a"].fire({icon:"error",title:"無法取得推文資訊，請稍後再試"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}},it=nt,ot=(s("2981"),Object(c["a"])(it,Q,W,!1,null,"ea0c1bf6",null)),ct=ot.exports,lt=s("74ca"),ut={name:"Tweets",components:{SideBar:B["a"],PostTweet:G,TweetsList:ct,Recommendation:lt["a"]},data:function(){return{tweets:[]}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V["a"].get();case 3:s=e.sent,a=s.data,t.tweets=a.map((function(t){return{id:t.id,userId:t.User.id,account:t.User.account,avatar:t.User.avatar,name:t.User.name,time:t.time,description:t.description,replyCount:t.replyCount,likeCount:t.likeCount,createdAt:t.createdAt,isLiked:t.isLiked}})),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),b["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},afterPostTweet:function(){this.fetchTweets()}}},dt=ut,pt=(s("e3de"),Object(c["a"])(dt,A,N,!1,null,"67c26166",null)),mt=pt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"wrapper"},[a("SideBar",{staticClass:"side-bar"}),a("div",{staticClass:"center-column"},[a("div",{staticClass:"header"},[a("button",{on:{click:function(e){return t.$router.back()}}},[a("img",{staticClass:"header-back-icon",attrs:{src:s("a0e8")}})]),a("div",{staticClass:"header-title"},[t._v("推文")])]),a("TweetDetail",{staticClass:"tweet-detail",attrs:{"initial-tweet":t.tweet},on:{"after-submit":t.afterSubmit}}),a("Replies",{staticClass:"replies",attrs:{"initial-tweet":t.tweet,replies:t.replies}})],1),a("Recommendation",{staticClass:"recommendation-list"})],1)])},wt=[],vt=(s("1276"),s("ac1f"),s("99af"),s("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-center"},[a("div",{staticClass:"user"},[a("router-link",{attrs:{to:{name:"user",params:{id:t.tweet.userId?t.tweet.userId:-1}}}},[a("img",{staticClass:"user-avatar",attrs:{src:t.tweet.avatar}})]),a("div",{staticClass:"user-info"},[a("router-link",{attrs:{to:{name:"user",params:{id:t.tweet.userId?t.tweet.userId:-1}}}},[a("span",{staticClass:"user-name"},[t._v(t._s(t.tweet.name))])]),a("router-link",{attrs:{to:{name:"user",params:{id:t.tweet.userId?t.tweet.userId:-1}}}},[a("span",{staticClass:"user-account"},[t._v("@"+t._s(t.tweet.account))])])],1)],1),a("div",{staticClass:"description"},[t._v(t._s(t.tweet.description))]),a("div",{staticClass:"createdAt"},[t._v(t._s(t.tweet.time))]),a("div",{staticClass:"divider-1"}),a("div",{staticClass:"count-wrapper"},[a("div",{staticClass:"count count-replies"},[t._v(" "+t._s(t.tweet.replyCount)),a("span",[t._v(" 回覆")])]),a("div",{staticClass:"count count-likes"},[t._v(" "+t._s(t.tweet.likeCount)),a("span",[t._v(" 喜歡次數")])])]),a("div",{staticClass:"divider-2"}),a("div",{staticClass:"action"},[a("button",{staticClass:"action-replies",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleReplyModal(t.tweet)}}},[a("img",{attrs:{src:s("e85e")}})]),t.tweet.isLiked?a("button",{staticClass:"action-likes liked",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteLike(t.tweet.id)}}},[a("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M15 27.0473H14.9825C11.7537 26.9873 2.4375 18.5698 2.4375 10.5973C2.4375 6.76728 5.59375 3.40479 9.19125 3.40479C12.0537 3.40479 13.9787 5.37979 14.9987 6.81729C16.0162 5.38229 17.9412 3.40479 20.805 3.40479C24.405 3.40479 27.56 6.76729 27.56 10.5985C27.56 18.5685 18.2425 26.986 15.0137 27.0448H15V27.0473ZM9.1925 5.28104C6.5925 5.28104 4.31375 7.76603 4.31375 10.5998C4.31375 17.7748 13.1062 25.0948 15.0012 25.1723C16.8987 25.0948 25.6887 17.776 25.6887 10.5998C25.6887 7.76603 23.41 5.28104 20.81 5.28104C17.65 5.28104 15.885 8.95104 15.87 8.98729C15.5825 9.68979 14.425 9.68979 14.1362 8.98729C14.1187 8.94979 12.355 5.28104 9.19375 5.28104H9.1925Z",fill:"#657786"}})])]):a("button",{staticClass:"action-likes",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addLike(t.tweet.id)}}},[a("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M15 27.0473H14.9825C11.7537 26.9873 2.4375 18.5698 2.4375 10.5973C2.4375 6.76728 5.59375 3.40479 9.19125 3.40479C12.0537 3.40479 13.9787 5.37979 14.9987 6.81729C16.0162 5.38229 17.9412 3.40479 20.805 3.40479C24.405 3.40479 27.56 6.76729 27.56 10.5985C27.56 18.5685 18.2425 26.986 15.0137 27.0448H15V27.0473ZM9.1925 5.28104C6.5925 5.28104 4.31375 7.76603 4.31375 10.5998C4.31375 17.7748 13.1062 25.0948 15.0012 25.1723C16.8987 25.0948 25.6887 17.776 25.6887 10.5998C25.6887 7.76603 23.41 5.28104 20.81 5.28104C17.65 5.28104 15.885 8.95104 15.87 8.98729C15.5825 9.68979 14.425 9.68979 14.1362 8.98729C14.1187 8.94979 12.355 5.28104 9.19375 5.28104H9.1925Z",fill:"#657786"}})])])]),a("ReplyModal",{attrs:{"initial-is-reply-modal-toggle":t.isReplyModalToggle,"modal-tweet":t.modalTweet},on:{"after-close-modal":t.closeReplyModal,"after-submit":t.afterSubmit}})],1)}),ht=[],gt={name:"TweetDetail",components:{ReplyModal:rt},props:{initialTweet:{type:Object,required:!0}},data:function(){return{tweet:this.initialTweet,modalTweet:{},isReplyModalToggle:!1,isProcessing:!1}},watch:{initialTweet:function(t){this.tweet=Object(F["a"])(Object(F["a"])({},this.tweet),t)}},methods:{toggleReplyModal:function(t){this.isReplyModalToggle=!0,this.modalTweet=t},closeReplyModal:function(t){this.isReplyModalToggle=t},afterSubmit:function(){this.$emit("after-submit")},addLike:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,V["a"].addLike({tweetId:t});case 4:if(a=s.sent,r=a.data,"success"===r.status){s.next=8;break}throw new Error(r.message);case 8:e.tweet.isLiked=!0,e.tweet.likeCount++,e.isProcessing=!1,s.next=18;break;case 13:s.prev=13,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法按讚，請稍後再試"}),e.isProcessing=!1;case 18:case"end":return s.stop()}}),s,null,[[0,13]])})))()},deleteLike:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,V["a"].deleteLike({tweetId:t});case 4:if(a=s.sent,r=a.data,"success"===r.status){s.next=8;break}throw new Error(r.message);case 8:e.tweet.isLiked=!1,e.tweet.likeCount--,e.isProcessing=!1,s.next=18;break;case 13:s.prev=13,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取消按讚，請稍後再試"}),e.isProcessing=!1;case 18:case"end":return s.stop()}}),s,null,[[0,13]])})))()}}},Ct=gt,bt=(s("4cd8"),Object(c["a"])(Ct,vt,ht,!1,null,"0166ac60",null)),kt=bt.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"replies-wrapper"},t._l(t.replies,(function(e){return s("div",{key:e.id},[s("div",{staticClass:"reply-wrapper"},[s("div",{staticClass:"avatar-wrapper"},[s("router-link",{attrs:{to:{name:"user",params:{id:e.userId?e.userId:-1}}}},[s("img",{staticClass:"avatar",attrs:{src:e.avatar}})])],1),s("div",{staticClass:"reply-content"},[s("div",{staticClass:"user-info"},[s("router-link",{attrs:{to:{name:"user",params:{id:e.userId?e.userId:-1}}}},[s("div",{staticClass:"name"},[t._v(t._s(e.name))])]),s("div",{staticClass:"account-createdAt"},[s("router-link",{attrs:{to:{name:"user",params:{id:e.userId?e.userId:-1}}}},[s("span",[t._v("@"+t._s(e.account))])]),s("span",[t._v("・")]),s("span",[t._v(t._s(e.replyTime))])],1)],1),s("div",{staticClass:"reply-to"},[t._v(" 回覆 "),s("router-link",{attrs:{to:{name:"user",params:{id:t.tweet.userId?t.tweet.userId:-1}}}},[s("span",[t._v("@"+t._s(t.tweet.name))])])],1),s("div",{staticClass:"comment"},[t._v(t._s(e.comment))])])])])})),0)},_t=[],jt={name:"Replies",props:{initialTweet:{type:Object,required:!0},replies:{type:Array,required:!0}},data:function(){return{tweet:this.initialTweet}},watch:{initialTweet:function(t){this.tweet=Object(F["a"])(Object(F["a"])({},this.tweet),t)}}},yt=jt,Tt=(s("2687"),Object(c["a"])(yt,xt,_t,!1,null,"5855e0c8",null)),Lt=Tt.exports,Pt={name:"TweetReplies",components:{SideBar:B["a"],TweetDetail:kt,Replies:Lt,Recommendation:lt["a"]},data:function(){return{tweet:{},replies:[]}},created:function(){this.fetchTweet(),this.fetchReplies()},methods:{fetchTweet:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a,r,n,i,o,c,l,u,d,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s=t.$route.params.id,e.next=4,V["a"].getTweet({tweetId:s});case 4:a=e.sent,r=a.data,n=r.id,i=r.UserId,o=r.description,c=r.createdAt,l=r.likeCount,u=r.replyCount,d=r.User,p=r.isLiked,m=t.transformTime(c),t.tweet={id:n,userId:i,avatar:d.avatar,name:d.name,account:d.account,description:o,time:m,likeCount:l,replyCount:u,createdAt:c,isLiked:p},e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),b["a"].fire({icon:"error",title:"無法取得資料，請稍後再試"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},fetchReplies:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s=t.$route.params.id,e.next=4,V["a"].getTweetReplies({tweetId:s});case 4:a=e.sent,r=a.data,t.replies=r.map((function(t){return{id:t.id,userId:t.UserId,name:t.User.name,account:t.User.account,avatar:t.User.avatar,comment:t.comment,replyTime:t.replyTime}})),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),b["a"].fire({icon:"error",title:"無法取得回覆資訊，請稍後再試"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},transformTime:function(t){var e=t.split("T"),s=e[0].split("-"),a="".concat(s[0],"年").concat(Number(s[1]),"月").concat(Number(s[2]),"日"),r=e[1].split(".");r=r[0].split(":");var n="";return r[0]<12?n="上午 ".concat(r[0],":").concat(r[1]):(12===Number(r[0])||(r[0]=r[0]-11),n="下午 ".concat(r[0],":").concat(r[1])),"".concat(n,"・").concat(a)},afterSubmit:function(){this.fetchTweet(),this.fetchReplies()}}},Ut=Pt,Ft=(s("8fe7"),Object(c["a"])(Ut,ft,wt,!1,null,"66a38415",null)),Ot=Ft.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"wrapper"},[a("SideBar",{staticClass:"side-bar",on:{"after-post-tweet":t.afterPostTweet}}),a("div",{staticClass:"center-column"},[a("div",{staticClass:"header"},[a("button",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],on:{click:function(e){return t.$router.back()}}},[a("img",{staticClass:"header-back-icon",attrs:{src:s("a0e8")}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"header-user"},[a("div",{staticClass:"header-user-name"},[t._v(t._s(t.user.name))]),a("div",{staticClass:"header-user-tweets-count"},[t._v(" "+t._s(t.user.userTweetsCount)+" 推文 ")])])]),a("UserCard",{staticClass:"User-card",attrs:{"initial-user":t.user}}),a("div",{staticClass:"tab"},[a("button",{staticClass:"tab-item",class:{active:"tweets"===t.tab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.redirectTab("tweets")}}},[a("span",{staticClass:"tab-item-text"},[t._v("推文")])]),a("button",{staticClass:"tab-item",class:{active:"replied-tweets"===t.tab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.redirectTab("replied-tweets")}}},[a("span",{staticClass:"tab-item-text"},[t._v("推文與回覆")])]),a("button",{staticClass:"tab-item",class:{active:"likes"===t.tab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.redirectTab("likes")}}},[a("span",{staticClass:"tab-item-text"},[t._v("喜歡的內容")])])]),t._l(t.tweets,(function(t){return a("TweetsList",{key:t.id,staticClass:"tweet-list",attrs:{"initial-tweet":t}})}))],2),a("Recommendation",{staticClass:"recommendation-list",on:{"after-top-follow-ship":t.afterTopFollowShip}})],1)])},Rt=[],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-user-card"},[a("img",{staticClass:"cover",attrs:{src:t._f("emptyImage")(t.user.cover)}}),a("div",{staticClass:"user-info"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"name"},[t._v(t._s(t.user.name))]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"account"},[t._v("@"+t._s(t.user.account))]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"introduction"},[t._v(" "+t._s(t.user.introduction)+" ")]),a("div",{staticClass:"follow"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"followings-count",attrs:{to:{name:"user-followings",params:{id:t.user.id,tab:"followings"}}}},[t._v(" "+t._s(t.user.followingsCount)+" 個"),a("span",[t._v("跟隨中")])]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"followers-count",attrs:{to:{name:"user-followers",params:{id:t.user.id,tab:"followers"}}}},[t._v(" "+t._s(t.user.followersCount)+" 位"),a("span",[t._v("跟隨者")])])],1)]),a("img",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"avatar",attrs:{src:t._f("emptyImage")(t.user.avatar)}}),t.isSelf?a("div",{staticClass:"btn btn-edit"},[a("button",{staticClass:"btn-button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showModal(e)}}},[a("span",{staticClass:"btn-text"},[t._v("編輯個人資料")])])]):a("div",{staticClass:"btn-other"},[a("div",{staticClass:"btn btn-message"},[a("router-link",{staticClass:"item",attrs:{to:"/private-messages"}},[a("img",{attrs:{src:s("a716")}})])],1),a("div",{staticClass:"btn btn-noti"},[t.isNoti?a("button",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clickNotiChcek(e)}}},[a("img",{attrs:{src:s("9a91")}})]):a("button",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clickNoti(e)}}},[a("img",{attrs:{src:s("4a84")}})])]),a("div",{staticClass:"btn"},[t.isFollowed?a("button",{staticClass:"btn-wrapper-followed",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollow(e)}}},[a("span",{staticClass:"btn-text-followed"},[t._v("正在跟隨")])]):a("button",{staticClass:"btn-wrapper-follow",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollow(e)}}},[a("span",{staticClass:"btn-text-follow"},[t._v("跟隨")])])])]),t.isShowModal?a("div",{staticClass:"modal-edit"},[a("div",{staticClass:"modal-edit-wrapper"},[a("div",{staticClass:"modal-edit-header"},[a("button",{staticClass:"modal-edit-icon-close",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.cancelModal(e)}}},[a("svg",{staticClass:"icon-close",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M13.414 12.0001L19.207 6.20712C19.597 5.81712 19.597 5.18412 19.207 4.79312C18.817 4.40212 18.184 4.40312 17.793 4.79312L12 10.5861L6.207 4.79312C5.817 4.40312 5.184 4.40312 4.793 4.79312C4.402 5.18312 4.403 5.81612 4.793 6.20712L10.586 12.0001L4.793 17.7931C4.403 18.1831 4.403 18.8161 4.793 19.2071C4.988 19.4021 5.243 19.5001 5.5 19.5001C5.757 19.5001 6.012 19.4021 6.207 19.2071L12 13.4141L17.793 19.2071C17.988 19.4021 18.243 19.5001 18.5 19.5001C18.757 19.5001 19.012 19.4021 19.207 19.2071C19.597 18.8171 19.597 18.1841 19.207 17.7931L13.414 12.0001Z",fill:"#FF6600"}})])]),a("span",{staticClass:"modal-edit-header-text"},[t._v("編輯個人資料")])]),a("div",{staticClass:"modal-edit-form"},[a("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticClass:"form-group modal-cover-wrapper"},[a("img",{staticClass:"modal-cover",attrs:{src:t._f("emptyImage")(t.user.cover)}}),t._m(0),a("input",{staticClass:"form-control-file modal-input-img",attrs:{id:"cover",type:"file",name:"cover",accept:"image/*"},on:{change:t.handleFileChangeCover}}),a("img",{staticClass:"modal-cover-icon-delete modal-icon",attrs:{src:s("740e")}})]),a("div",{staticClass:"form-group modal-form"},[a("img",{staticClass:"modal-avatar",attrs:{src:t._f("emptyImage")(t.user.avatar)}}),a("div",{staticClass:"modal-avatar-background"}),t._m(1),a("input",{staticClass:"form-control-file modal-input-img",attrs:{id:"avatar",type:"file",name:"avatar",accept:"image/*"},on:{change:t.handleFileChangeAvatar}})]),a("div",{staticClass:"signin-form signin-form-name"},[a("label",{staticClass:"input-label",attrs:{for:"name"}},[t._v("名稱")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control form-control-name",attrs:{id:"name",name:"name",maxlength:"50",type:"text",autocomplete:"username",required:""},domProps:{value:t.user.name},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelModal(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(e)}],input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),a("div",{staticClass:"signin-form-name-count"},[t._v(t._s(t.nameCount)+"/50")])]),a("div",{staticClass:"signin-form signin-form-introduction"},[a("label",{staticClass:"input-label",attrs:{for:"introduction"}},[t._v("自我介紹")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.introduction,expression:"user.introduction"}],staticClass:"form-control form-control-introduction",attrs:{id:"introduction",name:"introduction",rows:"3",cols:"50",maxlength:"160"},domProps:{value:t.user.introduction},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelModal(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(e)}],input:function(e){e.target.composing||t.$set(t.user,"introduction",e.target.value)}}}),a("div",{staticClass:"signin-form-introduction-count"},[t._v(" "+t._s(t.introductionCount)+"/160 ")])]),t._m(2)])])])]):t._e()])},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"modal-icon",attrs:{for:"cover"}},[a("img",{staticClass:"modal-cover-icon-uploadPhoto",attrs:{src:s("54cc")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"modal-icon modal-avatar-icon-uploadPhoto",attrs:{for:"avatar"}},[a("img",{attrs:{src:s("54cc")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"save-btn btn btn-primary btn-block",attrs:{type:"submit"}},[s("span",{staticClass:"modal-form-btn-text"},[t._v("儲存")])])}],Mt=(s("fb6a"),s("2b3d"),s("4cce")),$t={mixins:[tt["a"]],name:"UserCard",props:{initialUser:{type:Object,required:!0,default:function(){return{name:"",introduction:""}}}},data:function(){return{isShowModal:!1,user:{id:-1,name:"",introduction:""},nameCount:-1,introductionCount:-1,initialName:"",initialIntroduction:"",initialCover:"",initialAvatar:"",isSelf:!1,isNoti:!1,isFollowed:!1,isLoading:!0}},computed:Object(F["a"])({},Object(q["b"])(["currentUser"])),directives:{focus:{inserted:function(t){t.focus()}}},watch:{initialUser:{handler:function(t){this.user=Object(F["a"])(Object(F["a"])({},this.user),t),this.nameCount=this.user.name.length,null!==this.user.introduction?(this.user.introduction.length>160&&(this.user.introduction=this.user.introduction.slice(0,160)),this.introductionCount=this.user.introduction.length):this.introductionCount=0,this.checkIsSelf(),this.checkFollow(),this.isLoading=!1},deep:!0},user:{handler:function(){this.nameCount=this.user.name.length,null!==this.user.introduction?this.introductionCount=this.user.introduction.length:this.introductionCount=0},deep:!0}},created:function(){this.checkFollow()},methods:{checkIsSelf:function(){this.user.id===this.currentUser.id?this.isSelf=!0:this.isSelf=!1},clickNoti:function(){this.isNoti=!0},clickNotiChcek:function(){this.isNoti=!1},checkFollow:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt["a"].getFollowers({userId:t.user.id});case 3:s=e.sent,a=s.data,a.map((function(e){e.id===t.currentUser.id?t.isFollowed=!0:t.isFollowed=!1})),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),b["a"].fire({icon:"error",title:"無法讀取追隨狀態，請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addFollow:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt["a"].addFollow({id:t.user.id});case 3:if(s=e.sent,a=s.data,"success"===a.status){e.next=7;break}throw new Error(a.message);case 7:t.isFollowed=!0,t.user.followersCount++,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),b["a"].fire({icon:"error",title:"無法新增追隨，請稍後再試"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},deleteFollow:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt["a"].deleteFollow({followingId:t.user.id});case 3:if(s=e.sent,a=s.data,"success"===a.status){e.next=7;break}throw new Error(a.message);case 7:t.isFollowed=!1,t.user.followersCount--,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),b["a"].fire({icon:"error",title:"無法取消追隨，請稍後再試"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},showModal:function(){this.isShowModal=!0,this.initialName=this.user.name,this.initialIntroduction=this.user.introduction,this.initialCover=this.user.cover,this.initialAvatar=this.user.avatar},cancelModal:function(){this.isShowModal=!1,this.user.name=this.initialName,this.user.introduction=this.initialIntroduction,this.user.cover=this.initialCover,this.user.avatar=this.initialAvatar},handleFileChangeCover:function(t){var e=t.target.files;0!==e.length&&(this.user.cover=window.URL.createObjectURL(e[0]))},handleFileChangeAvatar:function(t){var e=t.target.files;0!==e.length&&(this.user.avatar=window.URL.createObjectURL(e[0]))},handleSubmit:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.user.name){s.next=3;break}return b["a"].fire({icon:"warning",title:"請填寫名稱"}),s.abrupt("return");case 3:return a=t.target,r=new FormData(a),s.prev=5,s.next=8,Mt["a"].editInfo({userId:e.user.id,formData:r});case 8:if(n=s.sent,i=n.data,"success"===i.status){s.next=12;break}throw new Error(i.message);case 12:e.isShowModal=!1,s.next=20;break;case 15:s.prev=15,s.t0=s["catch"](5),console.log(s.t0),b["a"].fire({icon:"error",title:"無法修改資料，請稍後再試"}),e.cancelModal();case 20:case"end":return s.stop()}}),s,null,[[5,15]])})))()}}},Et=$t,At=(s("49dc"),Object(c["a"])(Et,It,Dt,!1,null,"85ed9886",null)),Nt=At.exports,Bt={name:"User",components:{SideBar:B["a"],UserCard:Nt,TweetsList:ct,Recommendation:lt["a"]},data:function(){return{user:{id:-1,account:"",name:"",avatar:"",cover:"",introduction:"",userTweetsCount:-1,followingsCount:-1,followersCount:-1},isSelf:!1,isLoading:!0,tweets:[],tab:"tweets"}},computed:Object(F["a"])({},Object(q["b"])(["currentUser"])),created:function(){var t=this.$route.params.id;this.fetchUser(t)},watch:{$route:function(t,e){t.name===e.name&&t.params.id===e.params.id||this.fetchUser(t.params.id)}},methods:{checkIsSelf:function(){this.user.id===this.currentUser.id&&(this.isSelf=!0)},fetchUser:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,o,c,l,u,d,p,m;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.$route.name.includes("likes")?e.tab="likes":e.$route.name.includes("replied-tweets")?e.tab="replied-tweets":e.tab="tweets",s.prev=1,s.next=4,Mt["a"].get({userId:t});case 4:a=s.sent,r=a.data,n=r.id,i=r.account,o=r.name,c=r.avatar,l=r.cover,u=r.introduction,d=r.userTweetsCount,p=r.FollowingsCount,m=r.FollowersCount,e.user={id:n,account:i,name:o,avatar:c,cover:l,introduction:u,userTweetsCount:d,followingsCount:p,followersCount:m},e.setTab(t,e.tab),e.checkIsSelf(),e.isLoading=!1,s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](1),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 17:case"end":return s.stop()}}),s,null,[[1,13]])})))()},setTab:function(t,e){"likes"===e?this.fetchLikes(t):"replied-tweets"===e?this.fetchRepliedTweets(t):this.fetchTweets(t)},fetchTweets:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Mt["a"].getUsersTweets({userId:t});case 3:a=s.sent,r=a.data,e.tweets=r.map((function(t){return{id:t.id,userId:t.User.id,account:t.User.account,name:t.User.name,avatar:t.User.avatar,description:t.description,createdAt:t.createdAt,likeCount:t.likeCount,replyCount:t.replyCount,isLiked:t.isLiked}})),s.next=12;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 12:case"end":return s.stop()}}),s,null,[[0,8]])})))()},fetchRepliedTweets:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Mt["a"].getUsersRepliedTweets({userId:t});case 3:a=s.sent,r=a.data,e.tweets=r.map((function(t){return{id:t.id,tweetId:t.TweetId,userId:t.User.id,account:t.User.account,name:t.User.name,avatar:t.User.avatar,description:t.comment,createdAt:t.createdAt,likeCount:t.likeCount,replyCount:t.replyCount,isLiked:t.isLiked}})),s.next=12;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 12:case"end":return s.stop()}}),s,null,[[0,8]])})))()},fetchLikes:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Mt["a"].getUsersLikes({userId:t});case 3:a=s.sent,r=a.data,e.tweets=r.map((function(t){return{id:t.id,userId:t.User.id,account:t.User.account,name:t.User.name,avatar:t.User.avatar,description:t.description,createdAt:t.createdAt,likeCount:t.likeCount,replyCount:t.replyCount,isLiked:t.isLiked}})),s.next=12;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 12:case"end":return s.stop()}}),s,null,[[0,8]])})))()},redirectTab:function(t){switch(t){case"tweets":this.$router.push({name:"user",params:{id:this.user.id}});break;case"replied-tweets":this.$router.push({name:"user-replied-tweets",params:{id:this.user.id}});break;case"likes":this.$router.push({name:"user-likes",params:{id:this.user.id}});break}},afterPostTweet:function(){var t=this.$route.params.id;this.fetchUser(t)},afterTopFollowShip:function(t){t.isFollowed?this.user.followingsCount+=1:this.user.followingsCount-=1}}},Ht=Bt,Zt=(s("57ba"),Object(c["a"])(Ht,St,Rt,!1,null,"e9f0c516",null)),Vt=Zt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"wrapper"},[s("SideBar",{staticClass:"side-bar"}),s("div",{staticClass:"center-column"},[s("header",[t._v("帳戶設定")]),s("div",{staticClass:"form-wrapper"},[s("SettingForm",{staticClass:"setting-form",attrs:{"initial-user-data":t.userData,isUserSetting:t.isUserSetting,"is-processing":t.isProcessing},on:{"after-submit":t.handleAfterSubmit}})],1)])],1)])},zt=[],Jt={name:"UserSetting",data:function(){return{userData:{id:-1,account:"",name:"",email:"",password:""},isUserSetting:!0,isProcessing:!1}},components:{SideBar:B["a"],SettingForm:I},methods:{fetchUserData:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Mt["a"].get({userId:t});case 3:a=s.sent,r=a.data,e.userData=Object(F["a"])(Object(F["a"])({},e.userData),{},{id:r.id,account:r.account,name:r.name,email:r.email,role:r.isAdmin?"Admin":"User",avatar:r.avatar,introduction:r.introduction}),s.next=12;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取得使用者資訊，請稍後再試"});case 12:case"end":return s.stop()}}),s,null,[[0,8]])})))()},handleAfterSubmit:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,o,c,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.account,r=t.name,n=t.email,i=t.password,o=t.checkPassword,s.prev=1,e.isProcessing=!0,s.next=5,Mt["a"].editAccount({id:e.$route.params.id,account:a,name:r,email:n,password:i,checkPassword:o});case 5:if(c=s.sent,l=c.data,"success"===l.status){s.next=9;break}throw new Error(l.message);case 9:b["a"].fire({icon:"success",title:"更新完成"}),s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](1),console.log(s.t0),b["a"].fire({icon:"error",title:"無法更新用戶資訊，請稍後再試"});case 16:e.isProcessing=!1;case 17:case"end":return s.stop()}}),s,null,[[1,12]])})))()}},created:function(){var t=this.$route.params.id;this.fetchUserData(t)},beforeRouteUpdate:function(t,e,s){var a=this.$route.params.id;this.fetchUserData(a),s()}},Kt=Jt,Gt=(s("41a2"),Object(c["a"])(Kt,qt,zt,!1,null,"ca4a744c",null)),Qt=Gt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"wrapper"},[a("SideBar",{staticClass:"side-bar"}),a("div",{staticClass:"center-column"},[a("header",[a("button",{on:{click:function(e){return t.$router.push({name:"user",params:{id:t.user.id}})}}},[a("img",{staticClass:"header-back-icon",attrs:{src:s("a0e8")}})]),a("div",{staticClass:"header-user"},[a("div",{staticClass:"header-user-name"},[t._v(t._s(t.user.name))]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"header-user-tweets-count"},[t._v(" "+t._s(t.user.userTweetsCount)+" 推文 ")])])]),a("div",{staticClass:"tabs"},[a("button",{staticClass:"followers-btn",class:{active:"followers"===t.tab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.redirectTab("followers")}}},[t._v(" 跟隨者 ")]),a("button",{staticClass:"followings-btn",class:{active:"followings"===t.tab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.redirectTab("followings")}}},[t._v(" 正在跟隨 ")])]),a("div",{staticClass:"followship-list"},t._l(t.followShipData,(function(e){return a("FollowCard",{key:e.id,staticClass:"follow-card",attrs:{"initial-follow":e,"new-top-follow-ship":t.newTopFollowShip},on:{"after-follow-ship":t.afterFollowShip}})})),1)]),a("Recommendation",{staticClass:"recommendation-list",attrs:{"new-follow-ship":t.newFollowShip},on:{"after-top-follow-ship":t.afterTopFollowShip}})],1)])},Xt=[],Yt=s("2909"),te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"follow-card-wrapper"},[s("router-link",{attrs:{to:{name:"user",params:{id:t.follow.id}}}},[s("img",{staticClass:"user-avatar",attrs:{src:t.follow.avatar,alt:""}})]),s("div",{staticClass:"card-content"},[s("div",{staticClass:"profile-action-wrapper"},[s("div",{staticClass:"profile"},[s("router-link",{attrs:{to:{name:"user",params:{id:t.follow.id}}}},[s("div",{staticClass:"user-name"},[t._v(t._s(t.follow.name))])]),s("router-link",{attrs:{to:{name:"user",params:{id:t.follow.id}}}},[s("div",{staticClass:"user-account"},[t._v("@"+t._s(t.follow.account))])])],1),t.follow.id!==t.currentUser.id?s("div",{staticClass:"action"},[t.follow.isFollowed?s("button",{staticClass:"followed-btn",class:{disabled:t.isProcessing},attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeFollowing(t.follow.id)}}},[t._v(" 正在跟隨 ")]):s("button",{staticClass:"to-follow-btn",class:{disabled:t.isProcessing},attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(t.follow.id)}}},[t._v(" 跟隨 ")])]):t._e()]),s("div",{staticClass:"introduction"},[t._v(" "+t._s(t.follow.introduction)+" ")])])],1)},ee=[],se={name:"FollowCard",props:{initialFollow:{type:Object,required:!0},newTopFollowShip:{type:Object,default:function(){return{userId:-1,isFollowed:""}}}},data:function(){return{follow:{id:-1},isProcessing:!1,newFollowShip:{userId:-1,isFollowed:!1}}},methods:{fetchFollow:function(){this.follow=this.initialFollow},addFollowing:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,Mt["a"].addFollow({id:t});case 4:if(a=s.sent,r=a.data,"success"==r.status){s.next=8;break}throw new Error(r.message);case 8:e.follow.isFollowed=!0,e.newFollowShip.userId=t,e.newFollowShip.isFollowed=!0,e.$emit("after-follow-ship",e.newFollowShip),s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法追蹤用戶，請稍後再試"});case 18:e.isProcessing=!1;case 19:case"end":return s.stop()}}),s,null,[[0,14]])})))()},removeFollowing:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,Mt["a"].deleteFollow({followingId:t});case 4:if(a=s.sent,r=a.data,"success"==r.status){s.next=8;break}throw new Error(r.message);case 8:e.follow.isFollowed=!1,e.newFollowShip.userId=t,e.newFollowShip.isFollowed=!1,e.$emit("after-follow-ship",e.newFollowShip),s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取消追蹤用戶，請稍後再試"});case 18:e.isProcessing=!1;case 19:case"end":return s.stop()}}),s,null,[[0,14]])})))()}},created:function(){this.fetchFollow()},watch:{initalFollow:function(t){this.follow=Object(F["a"])(Object(F["a"])({},this.follow),t)},newTopFollowShip:{handler:function(t){this.follow.id===t.userId&&(this.follow.isFollowed=t.isFollowed)},deep:!0}},computed:Object(F["a"])({},Object(q["b"])(["currentUser"]))},ae=se,re=(s("dad5"),Object(c["a"])(ae,te,ee,!1,null,"ba672d1c",null)),ne=re.exports,ie={name:"UserFollowShip",components:{SideBar:B["a"],Recommendation:lt["a"],FollowCard:ne},data:function(){return{user:{id:-1,account:"",name:"",avatar:"",cover:"",introduction:"",userTweetsCount:-1,followingsCount:-1,followersCount:-1},followShipData:[],tab:"followers",isLoading:!0,newFollowShip:{},newTopFollowShip:{}}},methods:{fetchUser:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,o,c,l,u,d,p,m;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Mt["a"].get({userId:t});case 3:a=s.sent,r=a.data,n=r.id,i=r.account,o=r.name,c=r.avatar,l=r.cover,u=r.introduction,d=r.userTweetsCount,p=r.FollowingsCount,m=r.FollowersCount,e.user={id:n,account:i,name:o,avatar:c,cover:l,introduction:u,userTweetsCount:d,followingsCount:p,followersCount:m},e.isLoading=!1,s.next=14;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))()},fetchFollowData:function(t,e){var s=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,r={},"followings"!==e){a.next=8;break}return a.next=5,Mt["a"].getFollowings({userId:t});case 5:r=a.sent,a.next=12;break;case 8:if("followers"!==e){a.next=12;break}return a.next=11,Mt["a"].getFollowers({userId:t});case 11:r=a.sent;case 12:s.followShipData=Object(Yt["a"])(r.data),a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](0),console.log(a.t0),b["a"].fire({icon:"error",title:"無法取得follow ship資訊，請稍後再試"});case 19:case"end":return a.stop()}}),a,null,[[0,15]])})))()},redirectTab:function(t){this.tab!==t&&(this.tab=t,"followings"===t?this.$router.push({name:"user-followings",params:{id:this.user.id,tab:t}}):"followers"===t&&this.$router.push({name:"user-followers",params:{id:this.user.id,tab:t}}),this.fetchFollowData(this.user.id,this.tab))},afterFollowShip:function(t){this.newFollowShip=t},afterTopFollowShip:function(t){this.newTopFollowShip=t}},created:function(){var t=this.$route.params.id,e=this.$route.name;"user-followings"===e?this.tab="followings":"user-followers"===e&&(this.tab="followers"),this.fetchUser(t),this.fetchFollowData(t,this.tab)},watch:{$route:function(t,e){var s="";"user-followings"===t.name?s="followings":"user-followers"===t.name&&(s="followers"),this.tab!==s&&(this.tab=s,this.fetchFollowData(t.params.id,this.tab)),t.params.id!==e.params.id&&(this.fetchUser(t.params.id),this.fetchFollowData(t.params.id,this.tab))}}},oe=ie,ce=(s("8488"),Object(c["a"])(oe,Wt,Xt,!1,null,"55afcc4e",null)),le=ce.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-5"},[t._m(0),s("form",{staticClass:"w-100",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(e)}}},[s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"account"}},[t._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"email",placeholder:"",autocomplete:"username",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"signin-form"},[s("label",{staticClass:"input-label",attrs:{for:"password"}},[t._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"",minlength:"6",autocomplete:"current-password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{disabled:t.isProcessing,type:"submit"}},[t._v(" 登入 ")]),s("div",{staticClass:"signup-admin-link"},[s("p",[s("router-link",{staticClass:"link",attrs:{to:"/signin"}},[t._v("前台登入")])],1)])])])},de=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title text-center"},[a("img",{staticClass:"mb-4",attrs:{src:s("1a86"),alt:""}}),a("h1",[t._v("後台登入")])])}],pe={data:function(){return{email:"",password:"",isProcessing:!1}},methods:{handleSubmit:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.email&&t.password){e.next=4;break}return b["a"].fire({icon:"warning",title:"請輸入帳號密碼"}),e.abrupt("return");case 4:return t.isProcessing=!0,e.next=7,k.signIn({email:t.email,password:t.password});case 7:if(s=e.sent,a=s.data,"success"===a.status){e.next=11;break}throw new Error(a.message);case 11:localStorage.setItem("token",a.token),a.user.isAdmin?(t.$store.commit("setCurrentUser",a.user),t.$router.push("/admin/tweets")):(b["a"].fire({icon:"warning",title:"非管理者帳號，自動前往前台登入頁"}),t.$store.commit("revokeCurrentUser"),t.$router.push("/signin")),e.next=21;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0),t.isProcessing=!1,t.password="",b["a"].fire({icon:"warning",title:"輸入的帳號密碼有誤"});case 21:case"end":return e.stop()}}),e,null,[[0,15]])})))()}}},me=pe,fe=(s("a16b"),Object(c["a"])(me,ue,de,!1,null,"067c0d5b",null)),we=fe.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-main"},[s("div",{staticClass:"wrapper"},[s("AdminSidebar",{staticClass:"admin-side-bar"}),s("div",{staticClass:"center-column"},[t._m(0),s("div",{staticClass:"tweet-list"},t._l(t.tweets,(function(e){return s("AminTweetsList",{key:e.id,staticClass:"tweet-list-item",attrs:{"initial-tweet":e},on:{"after-delete-tweet":t.afterDeleteTweet}})})),1)])],1)])},he=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-title"},[t._v("推文清單")])])}],ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-sidebar-wrapper"},[a("img",{staticClass:"admin-sidebar-logo",attrs:{alt:"logo",src:s("1a86")}}),a("div",{staticClass:"navigation"},[a("div",{staticClass:"nav-item admin-sidebar-tweets"},[a("router-link",{staticClass:"item",attrs:{to:"/admin/tweets"}},[a("svg",{staticClass:"admin-sidebar-tweets-icon icon",attrs:{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M22.58 6.34986L12.475 0.896855C12.178 0.736855 11.821 0.736855 11.525 0.896855L1.42496 6.34986C0.938957 6.61386 0.757957 7.21986 1.01996 7.70586C1.19996 8.04086 1.54496 8.23086 1.89996 8.23086C2.05996 8.23086 2.22396 8.19286 2.37496 8.11086L3.10896 7.71486L4.69896 18.9649C4.91496 20.1789 6.00896 21.0269 7.35896 21.0269H16.641C17.991 21.0269 19.085 20.1789 19.303 18.9389L20.891 7.71386L21.628 8.11186C22.113 8.37486 22.72 8.19386 22.982 7.70786C23.245 7.22186 23.062 6.61486 22.578 6.35286L22.58 6.34986ZM12 14.4349C10.205 14.4349 8.74996 12.9799 8.74996 11.1849C8.74996 9.38986 10.205 7.93486 12 7.93486C13.795 7.93486 15.25 9.38986 15.25 11.1849C15.25 12.9799 13.795 14.4349 12 14.4349Z",fill:t.iconColor[0]}})]),a("span",{staticClass:"text admin-sidebar-tweets-text",class:t.active[0]},[t._v("推文清單")])])],1),a("div",{staticClass:"nav-item admin-sidebar-user-list"},[a("router-link",{staticClass:"item",attrs:{to:"/admin/users"}},[a("svg",{staticClass:"admin-sidebar-user-self-icon icon",attrs:{width:"18",height:"21",viewBox:"0 0 18 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M8.99991 10.8158C10.3549 10.8158 11.8719 10.6658 12.8399 9.55976C13.6539 8.62976 13.9179 7.19176 13.6459 5.16776C13.2659 2.34276 11.5289 0.655762 8.99991 0.655762C6.47091 0.655762 4.73391 2.34276 4.35391 5.16976C4.08191 7.19176 4.3459 8.62976 5.1599 9.55976C6.1279 10.6668 7.64491 10.8158 8.99991 10.8158ZM5.83991 5.36776C6.00191 4.16776 6.62691 2.15576 8.99991 2.15576C11.3729 2.15576 11.9979 4.16876 12.1599 5.36776C12.3669 6.91776 12.2169 7.99476 11.7099 8.57276C11.2549 9.09276 10.4439 9.31576 8.99991 9.31576C7.55591 9.31576 6.7449 9.09276 6.28991 8.57276C5.78291 7.99476 5.63291 6.91676 5.83991 5.36776ZM17.2799 18.2358C16.4029 14.7098 12.9979 12.2458 8.99991 12.2458C5.00191 12.2458 1.59691 14.7098 0.719905 18.2358C0.547905 18.9278 0.691905 19.6358 1.1149 20.1758C1.5229 20.6958 2.15491 20.9958 2.84791 20.9958H15.1519C15.8449 20.9958 16.4769 20.6958 16.8849 20.1758C17.3089 19.6358 17.4519 18.9288 17.2789 18.2358H17.2799ZM15.7039 19.2518C15.5779 19.4118 15.3879 19.4978 15.1519 19.4978H2.84791C2.61291 19.4978 2.42191 19.4128 2.29591 19.2518C2.15891 19.0778 2.11591 18.8398 2.17591 18.5978C2.88591 15.7428 5.69291 13.7478 8.99991 13.7478C12.3069 13.7478 15.1139 15.7418 15.8239 18.5978C15.8839 18.8398 15.8409 19.0778 15.7039 19.2518Z",fill:t.iconColor[1]}})]),a("span",{staticClass:"text admin-sidebar-user-list-text",class:t.active[1]},[t._v("使用者列表")])])],1)]),a("div",{staticClass:"nav-item logout"},[a("button",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout(e)}}},[a("img",{staticClass:"icon logout-icon",attrs:{src:s("4a1c")}}),a("span",{staticClass:"text logout-text"},[t._v("登出")])])])])},Ce=[],be={name:"AdminSideBar",data:function(){return{iconColor:["black","black"],active:["normal","normal"]}},methods:{logout:function(){this.$store.commit("revokeCurrentUser"),this.$router.push("/admin/signin")}}},ke=be,xe=(s("b558"),Object(c["a"])(ke,ge,Ce,!1,null,"dcf37cc2",null)),_e=xe.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tweet-wrapper"},[s("div",[s("div",{staticClass:"tweet-content"},[s("img",{staticClass:"tweet-user-photo",attrs:{src:t.tweet.avatar,alt:""}}),s("div",{staticClass:"tweet"},[s("div",{staticClass:"tweet-user"},[s("span",{staticClass:"tweet-user-name"},[t._v(t._s(t.tweet.name))]),s("span",{staticClass:"tweet-user-info"},[t._v("@"+t._s(t.tweet.account)+"・"+t._s(t._f("fromNow")(t.tweet.createdAt)))])]),s("div",{staticClass:"tweet-description"},[t._v(t._s(t.tweet.description))])]),s("button",{class:{active:t.isProcessing},attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteTweet(t.tweet.id)}}},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M13.414 12.0001L19.207 6.20712C19.597 5.81712 19.597 5.18412 19.207 4.79312C18.817 4.40212 18.184 4.40312 17.793 4.79312L12 10.5861L6.207 4.79312C5.817 4.40312 5.184 4.40312 4.793 4.79312C4.402 5.18312 4.403 5.81612 4.793 6.20712L10.586 12.0001L4.793 17.7931C4.403 18.1831 4.403 18.8161 4.793 19.2071C4.988 19.4021 5.243 19.5001 5.5 19.5001C5.757 19.5001 6.012 19.4021 6.207 19.2071L12 13.4141L17.793 19.2071C17.988 19.4021 18.243 19.5001 18.5 19.5001C18.757 19.5001 19.012 19.4021 19.207 19.2071C19.597 18.8171 19.597 18.1841 19.207 17.7931L13.414 12.0001Z",fill:"#657786"}})])])])])])},ye=[],Te={users:{get:function(){return b["b"].get("admin/users")}},tweets:{get:function(){return b["b"].get("/admin/tweets")},delete:function(t){var e=t.tweetId;return b["b"].delete("/admin/tweets/".concat(e))}}},Le={mixins:[tt["b"]],name:"AdminTweetsList",props:{initialTweet:{type:Object,required:!0}},data:function(){return{isProcessing:!1,tweet:this.initialTweet}},watch:{initialTweet:function(t){this.tweet=Object(F["a"])(Object(F["a"])({},this.tweet),t)}},methods:{deleteTweet:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,Te.tweets.delete({tweetId:t});case 4:if(a=s.sent,r=a.data,"success"===r.status){s.next=8;break}throw new Error(r.message);case 8:e.$emit("after-delete-tweet"),e.isProcessing=!1,s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](0),console.log(s.t0),b["a"].fire({icon:"error",title:"無法刪除推文，請稍後再試"});case 16:case"end":return s.stop()}}),s,null,[[0,12]])})))()}}},Pe=Le,Ue=(s("a735"),Object(c["a"])(Pe,je,ye,!1,null,"16148f3a",null)),Fe=Ue.exports,Oe={name:"AdminTweets",components:{AdminSidebar:_e,AminTweetsList:Fe},data:function(){return{tweets:[]}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te.tweets.get();case 3:s=e.sent,a=s.data,t.tweets=a.map((function(t){var e=t.id,s=t.description,a=t.createdAt,r=t.User,n=r.name,i=r.account,o=r.avatar;return s.length>=50&&(s+=" ..."),{id:e,description:s,createdAt:a,name:n,account:i,avatar:o}})),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),b["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},afterDeleteTweet:function(){this.fetchTweets()}}},Se=Oe,Re=(s("b8d8"),Object(c["a"])(Se,ve,he,!1,null,"5a6dec73",null)),Ie=Re.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-main"},[s("div",{staticClass:"wrapper"},[s("AdminSidebar",{staticClass:"admin-side-bar"}),s("div",{staticClass:"center-column"},[t._m(0),s("AdminUsersCards",{staticClass:"admin-user-card"})],1)],1)])},Me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-title"},[t._v("使用者列表")])])}],$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-cards-wrapper"},t._l(t.users,(function(e){return s("div",{key:e.id,staticClass:"user-card"},[s("img",{staticClass:"user-cover",attrs:{src:e.cover,alt:""}}),s("img",{staticClass:"user-avatar",attrs:{src:e.avatar,alt:""}}),s("div",{staticClass:"user-profile"},[s("div",{staticClass:"user-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"user-account"},[t._v("@"+t._s(e.account))]),s("div",{staticClass:"activity"},[s("div",{staticClass:"activity-reply"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M8.77881 1.40127L6.18631 1.39502H6.18506C3.45131 1.39502 1.31006 3.53689 1.31006 6.27127C1.31006 8.83252 3.30131 10.775 5.97568 10.8775V13.27C5.97568 13.3375 6.00318 13.4488 6.05068 13.5219C6.13943 13.6625 6.29068 13.7388 6.44568 13.7388C6.53193 13.7388 6.61881 13.715 6.69693 13.665C6.86193 13.56 10.7426 11.0775 11.7519 10.2238C12.9407 9.21752 13.6519 7.74252 13.6538 6.27877V6.26814C13.6501 3.53877 11.5101 1.40127 8.77881 1.40064V1.40127ZM11.1457 9.50877C10.4369 10.1088 8.10693 11.6369 6.91318 12.4106V10.4188C6.91318 10.16 6.70381 9.95002 6.44443 9.95002H6.19693C3.90943 9.95002 2.24818 8.40252 2.24818 6.27127C2.24818 4.06252 3.97818 2.33252 6.18568 2.33252L8.77756 2.33877H8.77881C10.9863 2.33877 12.7163 4.06752 12.7176 6.27377C12.7157 7.46752 12.1288 8.67627 11.1463 9.50877H11.1457Z",fill:"#657786"}})]),s("span",{staticClass:"reply-count"},[t._v(t._s(e.tweetCount))])]),s("div",{staticClass:"activity-like"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M7.5 13.5239H7.49125C5.87687 13.4939 1.21875 9.28514 1.21875 5.29889C1.21875 3.38389 2.79687 1.70264 4.59562 1.70264C6.02687 1.70264 6.98937 2.69014 7.49937 3.40889C8.00812 2.69139 8.97062 1.70264 10.4025 1.70264C12.2025 1.70264 13.78 3.38389 13.78 5.29951C13.78 9.28451 9.12125 13.4933 7.50687 13.5226H7.5V13.5239ZM4.59625 2.64076C3.29625 2.64076 2.15687 3.88326 2.15687 5.30014C2.15687 8.88764 6.55312 12.5476 7.50062 12.5864C8.44937 12.5476 12.8444 8.88826 12.8444 5.30014C12.8444 3.88326 11.705 2.64076 10.405 2.64076C8.825 2.64076 7.9425 4.47576 7.935 4.49389C7.79125 4.84514 7.2125 4.84514 7.06812 4.49389C7.05937 4.47514 6.1775 2.64076 4.59687 2.64076H4.59625Z",fill:"#657786"}})]),s("span",{staticClass:"like-count"},[t._v(t._s(e.likeCount))])])]),s("div",{staticClass:"followship"},[s("div",{staticClass:"followings-info"},[s("span",{staticClass:"followship-count"},[t._v(t._s(e.followingCount)+"個")]),s("span",{staticClass:"followship-unit"},[t._v("跟隨中")])]),s("div",{staticClass:"followers-info"},[s("span",{staticClass:"followship-count"},[t._v(t._s(e.followerCount)+"位")]),s("span",{staticClass:"followship-unit"},[t._v("跟隨者")])])])])])})),0)},Ee=[],Ae={name:"AdminUsersCards",data:function(){return{users:[]}},methods:{fetchUsers:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te.users.get();case 3:s=e.sent,a=s.data,t.users=a.map((function(t){return{id:t.id,cover:t.cover,avatar:t.avatar,name:t.name,account:t.account,tweetCount:t.tweetCount,likeCount:t.likeCount,followingCount:t.FollowingCount,followerCount:t.FollowerCount}})),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),b["a"].fire({icon:"error",title:"無法取得所有用戶資訊，請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},created:function(){this.fetchUsers()}},Ne=Ae,Be=(s("da97"),Object(c["a"])(Ne,$e,Ee,!1,null,"54bfc8b2",null)),He=Be.exports,Ze={name:"AdminUsers",components:{AdminSidebar:_e,AdminUsersCards:He}},Ve=Ze,qe=(s("1bfd"),Object(c["a"])(Ve,De,Me,!1,null,"921c93c8",null)),ze=qe.exports,Je=s("4360");a["a"].use(p["a"]);var Ke=function(t,e,s){var a=Je["a"].state.currentUser;!a||a.isAdmin?s():s("/404")},Ge=function(t,e,s){var a=Je["a"].state.currentUser;a&&a.isAdmin?s("/404"):s()},Qe=[{path:"/",name:"root",redirect:"/signin"},{path:"/signin",name:"signin",component:y},{path:"/signup",name:"signup",component:E},{path:"/users/:id/setting",name:"user-setting",component:Qt,beforeEnter:Ge},{path:"/users/:id",name:"user",component:Vt,beforeEnter:Ge},{path:"/users/:id/replied_tweets",name:"user-replied-tweets",component:Vt,beforeEnter:Ge},{path:"/users/:id/likes",name:"user-likes",component:Vt,beforeEnter:Ge},{path:"/users/:id/followers",name:"user-followers",component:le,beforeEnter:Ge},{path:"/users/:id/followings",name:"user-followings",component:le,beforeEnter:Ge},{path:"/tweets",name:"tweets",component:mt,beforeEnter:Ge},{path:"/tweets/:id",name:"tweets-replies",component:Ot,beforeEnter:Ge},{path:"/notifications",name:"notifications",component:function(){return s.e("chunk-804632c8").then(s.bind(null,"fda7"))},beforeEnter:Ge},{path:"/public-messages",name:"public-messages",component:function(){return s.e("chunk-0fe70b0a").then(s.bind(null,"5d42"))},beforeEnter:Ge},{path:"/private-messages",name:"private-messages",component:function(){return s.e("chunk-39520491").then(s.bind(null,"95f2"))},beforeEnter:Ge},{path:"/admin/signin",name:"admin-signin",component:we},{path:"/admin/tweets",name:"admin-tweets",component:Ie,beforeEnter:Ke},{path:"/admin/users",name:"admin-users",component:ze,beforeEnter:Ke},{path:"*",name:"not-found",component:h}],We=new p["a"]({routes:Qe});We.beforeEach(function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,s,a){var r,n,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("token"),n=Je["a"].state.token,i=["signup","signin","admin-signin"],o=Je["a"].state.isAuthenticated,c=Je["a"].state.currentUser.isAdmin,!r||r===n){t.next=9;break}return t.next=8,Je["a"].dispatch("fetchCurrentUser");case 8:o=t.sent;case 9:if(o||i.includes(e.name)){t.next=12;break}return a("/signin"),t.abrupt("return");case 12:if(!o||!i.includes(e.name)){t.next=15;break}return c?c&&a("/admin/tweets"):a("/tweets"),t.abrupt("return");case 15:a();case 16:case"end":return t.stop()}}),t)})));return function(e,s,a){return t.apply(this,arguments)}}());var Xe=We;s("12ab");a["a"].config.productionTip=!1,new a["a"]({router:Xe,store:Je["a"],render:function(t){return t(u)}}).$mount("#app")},"56e4":function(t,e,s){},"57ba":function(t,e,s){"use strict";s("1b5e")},"666d":function(t,e,s){"use strict";s("e4ca")},6783:function(t,e,s){"use strict";var a=s("2fa3");e["a"]={get:function(){return a["b"].get("/tweets")},getTweet:function(t){var e=t.tweetId;return a["b"].get("/tweets/".concat(e))},getTweetReplies:function(t){var e=t.tweetId;return a["b"].get("/tweets/".concat(e,"/replies"))},post:function(t){var e=t.newTweet;return a["b"].post("/tweets",{description:e})},addLike:function(t){var e=t.tweetId;return a["b"].post("/tweets/".concat(e,"/like"),null)},deleteLike:function(t){var e=t.tweetId;return a["b"].post("/tweets/".concat(e,"/unlike"),null)},reply:function(t){var e=t.id,s=t.comment;return a["b"].post("/tweets/".concat(e,"/replies"),{comment:s})}}},"73ee":function(t,e,s){"use strict";s("b7bd")},"740e":function(t,e,s){t.exports=s.p+"img/icon_delete.2e295a3b.svg"},"74ca":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommendation-wrapper"},[t._m(0),s("div",{staticClass:"follow-list"},t._l(t.topUsers,(function(e){return s("TopUserCard",{key:e.id,attrs:{"initial-user":e,"new-follow-ship":t.newFollowShip},on:{"after-top-follow-ship":t.afterTopFollowShip}})})),1),s("footer",[s("p",{on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.showMoreUser(e)}}},[t._v(" "+t._s(t.isShowMore?"顯示較少":"顯示更多")+" ")])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("p",[t._v("跟隨誰")])])}],n=s("1da1"),i=(s("96cf"),s("4cce")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"follow-card"},[s("router-link",{attrs:{to:{name:"user",params:{id:t.user.id}}}},[s("img",{staticClass:"user-avatar",attrs:{src:t.user.avatar,alt:""}})]),s("div",{staticClass:"profile"},[s("router-link",{attrs:{to:{name:"user",params:{id:t.user.id}}}},[s("div",{staticClass:"user-name"},[t._v(t._s(t.user.name))])]),s("router-link",{attrs:{to:{name:"user",params:{id:t.user.id}}}},[s("div",{staticClass:"user-account"},[t._v("@"+t._s(t.user.account))])])],1),t.user.id!==t.currentUser.id?s("div",{staticClass:"action"},[t.user.isFollowed?s("button",{staticClass:"followed-btn",class:{disabled:t.isProcessing},attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeFollowing(t.user.id)}}},[t._v(" 正在跟隨 ")]):s("button",{staticClass:"to-follow-btn",class:{disabled:t.isProcessing},attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(t.user.id)}}},[t._v(" 跟隨 ")])]):t._e()],1)},c=[],l=s("5530"),u=s("2fa3"),d=s("2f62"),p={name:"TopCardUser",props:{initialUser:{type:Object,required:!0},newFollowShip:{type:Object,default:function(){return{userId:-1,isFollowed:""}}}},data:function(){return{user:{},isProcessing:!1,newTopFollowShip:{userId:-1,isFollowed:""}}},methods:{fetchUser:function(){this.user=this.initialUser},addFollowing:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,i["a"].addFollow({id:t});case 4:if(a=s.sent,r=a.data,"success"==r.status){s.next=8;break}throw new Error(r.message);case 8:e.user.isFollowed=!0,e.newTopFollowShip.userId=t,e.newTopFollowShip.isFollowed=!0,e.$emit("after-top-follow-ship",e.newTopFollowShip),s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](0),console.log(s.t0),u["a"].fire({icon:"error",title:"無法追蹤用戶，請稍後再試"});case 18:e.isProcessing=!1;case 19:case"end":return s.stop()}}),s,null,[[0,14]])})))()},removeFollowing:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,i["a"].deleteFollow({followingId:t});case 4:if(a=s.sent,r=a.data,"success"==r.status){s.next=8;break}throw new Error(r.message);case 8:e.user.isFollowed=!1,e.newTopFollowShip.userId=t,e.newTopFollowShip.isFollowed=!1,e.$emit("after-top-follow-ship",e.newTopFollowShip),s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](0),console.log(s.t0),u["a"].fire({icon:"error",title:"無法取消追蹤用戶，請稍後再試"});case 18:e.isProcessing=!1;case 19:case"end":return s.stop()}}),s,null,[[0,14]])})))()}},created:function(){this.fetchUser()},watch:{initialUser:function(t){this.user=Object(l["a"])(Object(l["a"])({},this.user),t)},newFollowShip:{handler:function(t){this.user.id===t.userId&&(this.user.isFollowed=t.isFollowed)},deep:!0}},computed:Object(l["a"])({},Object(d["b"])(["currentUser"]))},m=p,f=(s("0427"),s("2877")),w=Object(f["a"])(m,o,c,!1,null,"9f51f354",null),v=w.exports,h={name:"Recommendation",components:{TopUserCard:v},props:{newFollowShip:{type:Object,default:function(){return{userId:-1,isFollowed:""}}}},data:function(){return{totalTopUsers:[],topUsers:[],isShowMore:!1}},methods:{fetchUsers:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i["a"].getTopUsers();case 3:for(s=e.sent,a=s.data,t.totalTopUsers=a,r=0;r<6;r++)t.topUsers.push(t.totalTopUsers[r]);e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),u["a"].fire({icon:"error",title:"無法取得Top Users資訊，請稍後再試"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},showMoreUser:function(){if(this.isShowMore=!this.isShowMore,this.isShowMore)this.topUsers=this.totalTopUsers;else{this.topUsers=[];for(var t=0;t<6;t++)this.topUsers.push(this.totalTopUsers[t])}},afterTopFollowShip:function(t){this.$emit("after-top-follow-ship",t)}},created:function(){this.fetchUsers()}},g=h,C=(s("d358"),Object(f["a"])(g,a,r,!1,null,"7f212c8b",null));e["a"]=C.exports},7770:function(t,e,s){},"7c08":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-wrapper"},[a("img",{staticClass:"sidebar-logo",attrs:{alt:"logo",src:s("1a86")}}),a("div",{staticClass:"navigation"},[a("div",{staticClass:"nav-item sidebar-tweets"},[a("router-link",{staticClass:"item",attrs:{to:"/tweets"}},[a("svg",{staticClass:"sidebar-tweets-icon icon",attrs:{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M22.58 6.34986L12.475 0.896855C12.178 0.736855 11.821 0.736855 11.525 0.896855L1.42496 6.34986C0.938957 6.61386 0.757957 7.21986 1.01996 7.70586C1.19996 8.04086 1.54496 8.23086 1.89996 8.23086C2.05996 8.23086 2.22396 8.19286 2.37496 8.11086L3.10896 7.71486L4.69896 18.9649C4.91496 20.1789 6.00896 21.0269 7.35896 21.0269H16.641C17.991 21.0269 19.085 20.1789 19.303 18.9389L20.891 7.71386L21.628 8.11186C22.113 8.37486 22.72 8.19386 22.982 7.70786C23.245 7.22186 23.062 6.61486 22.578 6.35286L22.58 6.34986ZM12 14.4349C10.205 14.4349 8.74996 12.9799 8.74996 11.1849C8.74996 9.38986 10.205 7.93486 12 7.93486C13.795 7.93486 15.25 9.38986 15.25 11.1849C15.25 12.9799 13.795 14.4349 12 14.4349Z",fill:"#1C1C1C"}})]),a("span",{staticClass:"text sidebar-tweets-text"},[t._v("首頁")])])],1),a("div",{staticClass:"nav-item sidebar-notify"},[a("router-link",{staticClass:"item",attrs:{to:"/notifications"}},[t.isNotify?a("svg",{staticClass:"icon-spot-noti",attrs:{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("circle",{attrs:{cx:"4",cy:"3",r:"3.5",fill:"#FF6600",stroke:"white"}})]):t._e(),a("svg",{staticClass:"icon",attrs:{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M19.697 15.468C19.677 15.452 17.557 13.828 17.594 9.43799C17.614 6.90599 16.782 4.65599 15.247 3.10299C13.872 1.70999 12.01 0.939993 10.005 0.929993H9.992C7.988 0.939993 6.126 1.70999 4.75 3.10399C3.216 4.65699 2.382 6.90599 2.404 9.43799C2.441 13.768 0.384001 15.405 0.302002 15.468C0.0420015 15.661 -0.0639986 15.998 0.0370014 16.306C0.139001 16.614 0.427002 16.821 0.749002 16.821H5.669C5.771 19.131 7.666 20.981 9.999 20.981C12.332 20.981 14.225 19.131 14.326 16.821H19.248C19.57 16.821 19.858 16.615 19.958 16.307C20.061 16 19.955 15.662 19.695 15.469L19.697 15.468ZM10 19.478C8.495 19.478 7.27 18.301 7.172 16.82H12.828C12.728 18.3 11.505 19.48 10 19.48V19.478ZM2.38 15.32C3.12 14.188 3.928 12.292 3.904 9.42399C3.886 7.26399 4.548 5.44199 5.817 4.15699C6.91 3.04999 8.397 2.43699 10 2.42999C11.603 2.43799 13.087 3.04999 14.18 4.15799C15.45 5.44299 16.113 7.26399 16.095 9.42499C16.071 12.293 16.88 14.19 17.62 15.321H2.38V15.32Z",fill:"black"}})]),a("span",{staticClass:"text sidebar-notify-text"},[t._v("通知")])])],1),a("div",{staticClass:"nav-item sidebar-public"},[a("router-link",{staticClass:"item",attrs:{to:"/public-messages"}},[t.isPublic?a("svg",{staticClass:"icon-spot-msg",attrs:{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("circle",{attrs:{cx:"4",cy:"3",r:"3.5",fill:"#FF6600",stroke:"white"}})]):t._e(),a("svg",{staticClass:"icon",attrs:{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M17.25 0.0180054H2.75C1.233 0.0180054 0 1.25201 0 2.77001V15.265C0 16.783 1.233 18.018 2.75 18.018H17.25C18.767 18.018 20 16.783 20 15.265V2.77001C20 1.25201 18.767 0.0180054 17.25 0.0180054ZM2.75 1.51801H17.25C17.94 1.51801 18.5 2.07801 18.5 2.76801V3.48201L10.45 8.84901C10.177 9.02901 9.824 9.03101 9.55 8.84701L1.5 3.48201V2.76801C1.5 2.07801 2.06 1.51801 2.75 1.51801ZM17.25 16.516H2.75C2.06 16.516 1.5 15.956 1.5 15.266V5.24001L8.74 10.07C9.123 10.326 9.562 10.454 10 10.454C10.44 10.454 10.877 10.326 11.26 10.071L18.5 5.24101V15.263C18.5 15.953 17.94 16.513 17.25 16.513V16.516Z",fill:"black"}})]),a("span",{staticClass:"text sidebar-public-text"},[t._v("公開聊天室")])])],1),a("div",{staticClass:"nav-item sidebar-private"},[a("router-link",{staticClass:"item",attrs:{to:"/private-messages"}},[t.isPrivate?a("svg",{staticClass:"icon-spot-msg",attrs:{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("circle",{attrs:{cx:"4",cy:"3",r:"3.5",fill:"#FF6600",stroke:"white"}})]):t._e(),a("svg",{staticClass:"icon",attrs:{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M17.25 0.0180054H2.75C1.233 0.0180054 0 1.25201 0 2.77001V15.265C0 16.783 1.233 18.018 2.75 18.018H17.25C18.767 18.018 20 16.783 20 15.265V2.77001C20 1.25201 18.767 0.0180054 17.25 0.0180054ZM2.75 1.51801H17.25C17.94 1.51801 18.5 2.07801 18.5 2.76801V3.48201L10.45 8.84901C10.177 9.02901 9.824 9.03101 9.55 8.84701L1.5 3.48201V2.76801C1.5 2.07801 2.06 1.51801 2.75 1.51801ZM17.25 16.516H2.75C2.06 16.516 1.5 15.956 1.5 15.266V5.24001L8.74 10.07C9.123 10.326 9.562 10.454 10 10.454C10.44 10.454 10.877 10.326 11.26 10.071L18.5 5.24101V15.263C18.5 15.953 17.94 16.513 17.25 16.513V16.516Z",fill:"black"}})]),a("span",{staticClass:"text sidebar-private-text"},[t._v("私人訊息")])])],1),a("div",{staticClass:"nav-item sidebar-user-self"},[a("router-link",{staticClass:"item",attrs:{to:{name:"user",params:{id:t.currentUser.id}}}},[a("svg",{staticClass:"sidebar-user-self-icon icon",attrs:{width:"18",height:"21",viewBox:"0 0 18 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M8.99991 10.8158C10.3549 10.8158 11.8719 10.6658 12.8399 9.55976C13.6539 8.62976 13.9179 7.19176 13.6459 5.16776C13.2659 2.34276 11.5289 0.655762 8.99991 0.655762C6.47091 0.655762 4.73391 2.34276 4.35391 5.16976C4.08191 7.19176 4.3459 8.62976 5.1599 9.55976C6.1279 10.6668 7.64491 10.8158 8.99991 10.8158ZM5.83991 5.36776C6.00191 4.16776 6.62691 2.15576 8.99991 2.15576C11.3729 2.15576 11.9979 4.16876 12.1599 5.36776C12.3669 6.91776 12.2169 7.99476 11.7099 8.57276C11.2549 9.09276 10.4439 9.31576 8.99991 9.31576C7.55591 9.31576 6.7449 9.09276 6.28991 8.57276C5.78291 7.99476 5.63291 6.91676 5.83991 5.36776ZM17.2799 18.2358C16.4029 14.7098 12.9979 12.2458 8.99991 12.2458C5.00191 12.2458 1.59691 14.7098 0.719905 18.2358C0.547905 18.9278 0.691905 19.6358 1.1149 20.1758C1.5229 20.6958 2.15491 20.9958 2.84791 20.9958H15.1519C15.8449 20.9958 16.4769 20.6958 16.8849 20.1758C17.3089 19.6358 17.4519 18.9288 17.2789 18.2358H17.2799ZM15.7039 19.2518C15.5779 19.4118 15.3879 19.4978 15.1519 19.4978H2.84791C2.61291 19.4978 2.42191 19.4128 2.29591 19.2518C2.15891 19.0778 2.11591 18.8398 2.17591 18.5978C2.88591 15.7428 5.69291 13.7478 8.99991 13.7478C12.3069 13.7478 15.1139 15.7418 15.8239 18.5978C15.8839 18.8398 15.8409 19.0778 15.7039 19.2518Z",fill:t.iconColor}})]),a("span",{staticClass:"text sidebar-user-self-text",class:t.active},[t._v("個人資料")])])],1),a("div",{staticClass:"nav-item sidebar-user-setting"},[a("router-link",{staticClass:"item",attrs:{to:{name:"user-setting",params:{id:t.currentUser.id}}}},[a("svg",{staticClass:"sidebar-user-icon icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M12 8.20996C9.90996 8.20996 8.20996 9.90996 8.20996 12C8.20996 14.09 9.90996 15.79 12 15.79C14.09 15.79 15.79 14.09 15.79 12C15.79 9.90996 14.09 8.20996 12 8.20996ZM12 14.29C10.738 14.29 9.70996 13.264 9.70996 12C9.70996 10.736 10.74 9.70996 12 9.70996C13.26 9.70996 14.29 10.736 14.29 12C14.29 13.264 13.262 14.29 12 14.29Z",fill:"#1C1C1C"}}),a("path",{attrs:{d:"M12.36 22.375H11.638C10.455 22.375 9.48405 21.487 9.37605 20.311L9.36205 20.164C9.33705 19.877 9.15505 19.631 8.89005 19.52C8.60405 19.4 8.30805 19.455 8.09205 19.635L7.97605 19.732C7.10805 20.457 5.72305 20.395 4.91605 19.592L4.40605 19.082C3.57005 18.242 3.51005 16.928 4.26605 16.022L4.36405 15.904C4.55005 15.682 4.59405 15.381 4.48605 15.117C4.37605 14.845 4.12805 14.663 3.84005 14.637L3.69005 14.623C2.51005 14.516 1.62305 13.543 1.62305 12.361V11.639C1.62305 10.456 2.51105 9.485 3.68705 9.377L3.84305 9.363C4.12805 9.338 4.37305 9.156 4.48505 8.89C4.59505 8.62 4.55005 8.317 4.36505 8.095L4.27105 7.979C3.51405 7.071 3.57305 5.756 4.40805 4.919L4.92005 4.407C5.72405 3.603 7.10805 3.542 7.98005 4.267L8.09605 4.365C8.31405 4.549 8.62405 4.595 8.88605 4.487C9.15605 4.375 9.33805 4.129 9.36305 3.844L9.37705 3.691C9.48405 2.511 10.457 1.625 11.639 1.625H12.361C13.544 1.625 14.515 2.513 14.623 3.689L14.637 3.845C14.662 4.13 14.843 4.375 15.109 4.485C15.386 4.602 15.689 4.547 15.903 4.368L16.023 4.266C16.89 3.543 18.277 3.604 19.083 4.406L19.593 4.918C20.429 5.756 20.489 7.071 19.733 7.978L19.633 8.096C19.445 8.316 19.399 8.618 19.51 8.884C19.622 9.154 19.87 9.334 20.156 9.362L20.308 9.376C21.488 9.483 22.375 10.456 22.375 11.638V12.361C22.375 13.544 21.487 14.515 20.311 14.623L20.156 14.637C19.872 14.661 19.626 14.842 19.516 15.107C19.403 15.379 19.449 15.681 19.633 15.902L19.733 16.022C20.489 16.927 20.429 18.242 19.593 19.082L19.083 19.592C18.276 20.396 16.893 20.456 16.023 19.732L15.908 19.636C15.691 19.453 15.378 19.406 15.118 19.514C14.845 19.628 14.663 19.874 14.638 20.16L14.624 20.31C14.517 21.483 13.544 22.37 12.362 22.37L12.36 22.375ZM8.58705 17.955C8.88705 17.955 9.18005 18.015 9.45705 18.13C10.247 18.458 10.781 19.184 10.857 20.026L10.871 20.173C10.908 20.573 11.238 20.873 11.641 20.873H12.363C12.763 20.873 13.093 20.573 13.131 20.173L13.145 20.025C13.221 19.183 13.755 18.458 14.537 18.133C15.33 17.803 16.233 17.951 16.87 18.483L16.983 18.577C17.161 18.725 17.349 18.757 17.476 18.757C17.682 18.757 17.876 18.677 18.022 18.53L18.532 18.02C18.816 17.736 18.837 17.29 18.58 16.982L18.48 16.862C17.938 16.212 17.803 15.322 18.128 14.539C18.454 13.749 19.18 13.219 20.022 13.142L20.177 13.128C20.574 13.091 20.877 12.761 20.877 12.358V11.636C20.877 11.236 20.574 10.906 20.175 10.868L20.023 10.854C19.177 10.776 18.453 10.244 18.128 9.461C17.802 8.673 17.938 7.783 18.481 7.134L18.581 7.016C18.838 6.706 18.817 6.26 18.533 5.976L18.023 5.466C17.877 5.319 17.683 5.239 17.477 5.239C17.35 5.239 17.162 5.271 16.985 5.419L16.865 5.519C16.231 6.047 15.315 6.189 14.543 5.873C13.755 5.546 13.223 4.821 13.146 3.977L13.132 3.822C13.097 3.425 12.767 3.122 12.365 3.122H11.642C11.242 3.122 10.912 3.425 10.874 3.824L10.86 3.976C10.784 4.819 10.252 5.544 9.47005 5.869C8.68305 6.195 7.77705 6.052 7.14005 5.519L7.02205 5.423C6.84205 5.273 6.65405 5.243 6.52705 5.243C6.32105 5.243 6.12705 5.323 5.98105 5.469L5.46905 5.979C5.18705 6.263 5.16605 6.709 5.42305 7.017L5.52305 7.135C6.06305 7.788 6.20005 8.679 5.87505 9.46C5.54805 10.248 4.82305 10.78 3.98005 10.857L3.82405 10.871C3.42705 10.908 3.12405 11.238 3.12405 11.641V12.363C3.12405 12.763 3.42705 13.093 3.82605 13.131L3.97605 13.145C4.82405 13.223 5.54905 13.757 5.87305 14.541C6.19805 15.327 6.06305 16.216 5.52005 16.866L5.42405 16.981C5.16405 17.291 5.18605 17.737 5.47005 18.021L5.98005 18.531C6.12605 18.678 6.32005 18.758 6.52605 18.758C6.65305 18.758 6.84105 18.728 7.01805 18.578L7.13405 18.482C7.54005 18.146 8.05705 17.958 8.58705 17.958V17.955Z",fill:"#1C1C1C"}})]),a("span",{staticClass:"text sidebar-user-text"},[t._v("設定")])])],1),a("div",{staticClass:"nav-item"},[a("button",{staticClass:"sidebar-btn btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showModal(e)}}},[a("span",{staticClass:"sidebar-btn-text"},[t._v("推文")])])])]),a("div",{staticClass:"nav-item logout"},[a("button",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout(e)}}},[a("img",{staticClass:"icon logout-icon",attrs:{src:s("4a1c")}}),a("span",{staticClass:"text logout-text"},[t._v("登出")])])]),t.isShowModal?a("div",{staticClass:"post-tweet"},[a("div",{staticClass:"post-tweet-modal"},[a("div",{staticClass:"post-tweet-modal-header"},[a("button",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.cancelModal(e)}}},[a("svg",{staticClass:"icon-close",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M13.414 12.0001L19.207 6.20712C19.597 5.81712 19.597 5.18412 19.207 4.79312C18.817 4.40212 18.184 4.40312 17.793 4.79312L12 10.5861L6.207 4.79312C5.817 4.40312 5.184 4.40312 4.793 4.79312C4.402 5.18312 4.403 5.81612 4.793 6.20712L10.586 12.0001L4.793 17.7931C4.403 18.1831 4.403 18.8161 4.793 19.2071C4.988 19.4021 5.243 19.5001 5.5 19.5001C5.757 19.5001 6.012 19.4021 6.207 19.2071L12 13.4141L17.793 19.2071C17.988 19.4021 18.243 19.5001 18.5 19.5001C18.757 19.5001 19.012 19.4021 19.207 19.2071C19.597 18.8171 19.597 18.1841 19.207 17.7931L13.414 12.0001Z",fill:"#FF6600"}})])])]),a("div",{staticClass:"post-tweet-modal-tweet"},[a("img",{staticClass:"tweet-avatar",attrs:{src:t._f("emptyImage")(t.currentUser.avatar)}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTweet,expression:"newTweet"},{name:"focus",rawName:"v-focus"}],staticClass:"tweet-text",attrs:{placeholder:"有什麼新鮮事？",maxlength:"140"},domProps:{value:t.newTweet},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelModal(e)},input:function(e){e.target.composing||(t.newTweet=e.target.value)}}})]),a("div",{staticClass:"post-tweet-model-button"},[a("button",{staticClass:"post-tweet-model-btn",class:{disabled:t.isProcessing},attrs:{disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.postTweet(t.newTweet)}}},[a("span",{staticClass:"post-tweet-model-btn-text"},[t._v("推文")])])])])]):t._e()])},r=[],n=s("1da1"),i=s("5530"),o=(s("96cf"),s("caad"),s("2532"),s("b0c0"),s("a9e3"),s("498a"),s("6783")),c=s("2f62"),l=s("2708"),u=s("2fa3"),d={mixins:[l["a"]],name:"SideBar",data:function(){return{iconColor:"#1C1C1C",active:"",isShowModal:!1,newTweet:"",userId:-1,isProcessing:!1,isNotify:!1,isPublic:!1,isPrivate:!1}},computed:Object(i["a"])({},Object(c["b"])(["currentUser"])),watch:{$route:function(t){this.userId!==t.params.id&&this.controlIconColor(),this.userId=t.params.id},newTweet:function(t){140===t.length&&u["a"].fire({icon:"warning",title:"已達字數上限"})}},created:function(){this.controlIconColor()},directives:{focus:{inserted:function(t){t.focus()}}},methods:{controlIconColor:function(){var t=this.$route.params.id;this.$route.name.includes("user")&&Number(t)===this.currentUser.id&&!this.$route.name.includes("setting")?(this.iconColor="#FF6600",this.active="activeIcon"):(this.iconColor="#1C1C1C",this.active="")},showModal:function(){this.isShowModal=!0},cancelModal:function(){this.isShowModal=!1},postTweet:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(""!==e.newTweet.trim()){s.next=3;break}return u["a"].fire({icon:"warning",title:"尚未輸入內容"}),s.abrupt("return");case 3:return s.prev=3,e.isProcessing=!0,s.next=7,o["a"].post({newTweet:t});case 7:if(a=s.sent,r=a.data,"success"===r.status){s.next=11;break}throw new Error(r.message);case 11:e.newTweet="",e.isShowModal=!1,e.isProcessing=!1,e.$emit("after-post-tweet"),s.next=22;break;case 17:s.prev=17,s.t0=s["catch"](3),console.log(s.t0),u["a"].fire({icon:"error",title:"無法新增推文，請稍後再試"}),e.isProcessing=!1;case 22:case"end":return s.stop()}}),s,null,[[3,17]])})))()},logout:function(){this.$store.commit("revokeCurrentUser"),this.$router.push("/signin")}}},p=d,m=(s("08b7"),s("2877")),f=Object(m["a"])(p,a,r,!1,null,"32de28dd",null);e["a"]=f.exports},8488:function(t,e,s){"use strict";s("0cd9")},"8fe7":function(t,e,s){"use strict";s("56e4")},"9a91":function(t,e,s){t.exports=s.p+"img/btn_noti_check.9435d056.svg"},"9fdd":function(t,e,s){},a0e8:function(t,e,s){t.exports=s.p+"img/icon_back.37429225.svg"},a16b:function(t,e,s){"use strict";s("39c3")},a583:function(t,e,s){},a716:function(t,e,s){t.exports=s.p+"img/btn_messege.0080ed98.svg"},a735:function(t,e,s){"use strict";s("a583")},b072:function(t,e,s){},b558:function(t,e,s){"use strict";s("1dfe")},b7bd:function(t,e,s){},b8d8:function(t,e,s){"use strict";s("ee11")},bbee:function(t,e,s){"use strict";s("031e")},cdbb:function(t,e,s){},cf5f:function(t,e,s){},d064:function(t,e,s){t.exports=s.p+"img/icon_like.fb81adc3.svg"},d358:function(t,e,s){"use strict";s("0f06")},d908:function(t,e,s){},da97:function(t,e,s){"use strict";s("cdbb")},dad5:function(t,e,s){"use strict";s("35cd")},e3de:function(t,e,s){"use strict";s("7770")},e439:function(t,e,s){},e4ca:function(t,e,s){},e85e:function(t,e,s){t.exports=s.p+"img/reply.5be71088.svg"},eaaa:function(t,e,s){t.exports=s.p+"img/icon_reply.3df6b89d.svg"},ee11:function(t,e,s){},f57d:function(t,e,s){},f76f:function(t,e,s){t.exports=s.p+"img/icon_liked.12d69306.svg"}});
//# sourceMappingURL=app.72e6c07e.js.map