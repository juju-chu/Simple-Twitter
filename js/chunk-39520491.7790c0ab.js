(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39520491"],{"0b0f":function(s,e,a){"use strict";var t=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",[s.isBroadcastOnline?a("div",{staticClass:"broadcast-online"},[a("span",{staticClass:"broadcast-online-text"},[s._v(s._s(s.chatData.name)+" 上線")])]):s._e(),s.isBroadcastOffline?a("div",{staticClass:"broadcast-offline"},[a("span",{staticClass:"broadcast-offline-text"},[s._v(s._s(s.chatData.name)+" 離線")])]):s._e(),s.isMessageOther?a("div",{staticClass:"message-other-wrapper"},[a("img",{staticClass:"avatar",attrs:{src:s.chatData.avatar}}),a("div",{staticClass:"message-other-message"},[a("div",{staticClass:"message-other-text-wrapper"},[a("span",{staticClass:"message-other-text"},[s._v(s._s(s.chatData.message))])]),a("span",{staticClass:"message-time"},[s._v(s._s(s.chatData.time))])])]):s._e(),s.isMessageSelf?a("div",{staticClass:"message-self-wrapper"},[a("div",{staticClass:"message-self"},[a("div",{staticClass:"message-self-text-wrapper"},[a("span",{staticClass:"message-self-text"},[s._v(s._s(s.chatData.message))])]),a("div",{staticClass:"message-self-time"},[a("div",{staticClass:"message-time"},[s._v(s._s(s.chatData.time))])])])]):s._e()])},i=[],r={name:"ChatRoom",props:{chatData:{type:Object,required:!0}},data:function(){return{messageType:this.chatData.messageType,isBroadcastOnline:!1,isBroadcastOffline:!1,isMessageOther:!1,isMessageSelf:!1}},created:function(){this.handleData()},methods:{handleData:function(){switch(this.messageType){case"broadcast-online":this.isBroadcastOnline=!0,this.isBroadcastOffline=!1,this.isMessageOther=!1,this.isMessageSelf=!1;break;case"broadcast-offline":this.isBroadcastOnline=!1,this.isBroadcastOffline=!0,this.isMessageOther=!1,this.isMessageSelf=!1;break;case"message-other":this.isBroadcastOnline=!1,this.isBroadcastOffline=!1,this.isMessageOther=!0,this.isMessageSelf=!1;break;case"message-self":this.isBroadcastOnline=!1,this.isBroadcastOffline=!1,this.isMessageOther=!1,this.isMessageSelf=!0;break}}}},c=r,n=(a("435b"),a("2877")),o=Object(n["a"])(c,t,i,!1,null,"1e11cd6d",null);e["a"]=o.exports},2089:function(s,e,a){},"37af":function(s,e,a){},"435b":function(s,e,a){"use strict";a("37af")},"736f":function(s,e,a){"use strict";a("2089")},"95f2":function(s,e,a){"use strict";a.r(e);var t=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"wrapper"},[a("SideBar",{staticClass:"side-bar"}),a("div",{staticClass:"header-users"},[s._v(" 訊息 "),a("svg",{staticClass:"header-icon",attrs:{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M17.25 0.0180054H2.75C1.233 0.0180054 0 1.25201 0 2.77001V15.265C0 16.783 1.233 18.018 2.75 18.018H17.25C18.767 18.018 20 16.783 20 15.265V2.77001C20 1.25201 18.767 0.0180054 17.25 0.0180054ZM2.75 1.51801H17.25C17.94 1.51801 18.5 2.07801 18.5 2.76801V3.48201L10.45 8.84901C10.177 9.02901 9.824 9.03101 9.55 8.84701L1.5 3.48201V2.76801C1.5 2.07801 2.06 1.51801 2.75 1.51801ZM17.25 16.516H2.75C2.06 16.516 1.5 15.956 1.5 15.266V5.24001L8.74 10.07C9.123 10.326 9.562 10.454 10 10.454C10.44 10.454 10.877 10.326 11.26 10.071L18.5 5.24101V15.263C18.5 15.953 17.94 16.513 17.25 16.513V16.516Z",fill:"black"}})])]),a("div",{staticClass:"private-users-wrapper"},s._l(s.privateUsers,(function(e){return a("PrivateUsers",{key:e.id,staticClass:"private-users",attrs:{"initial-user":e},on:{"after-click":s.afterClick}})})),1),a("div",{staticClass:"header-room"},[a("div",{staticClass:"header-room-name"},[s._v(s._s(s.privateUser.name))]),a("div",{staticClass:"header-room-account"},[s._v(s._s(s.privateUser.account))])]),a("div",{staticClass:"chat-room-wrapper"},s._l(s.chatDatas.slice().reverse(),(function(s){return a("ChatRoom",{key:s.id,staticClass:"chat-room",attrs:{chatData:s}})})),1),a("input",{directives:[{name:"model",rawName:"v-model",value:s.message,expression:"message"}],staticClass:"input-text",attrs:{MessageType:"text",placeholder:"輸入訊息..."},domProps:{value:s.message},on:{keypress:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.send(e)},input:function(e){e.target.composing||(s.message=e.target.value)}}}),a("button",{staticClass:"input-icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),s.send(e)}}},[a("svg",{staticClass:"svg-inline--fa fa-paper-plane fa-w-16",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"paper-plane",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""}},[a("path",{attrs:{fill:"currentColor",d:"M440 6.5L24 246.4c-34.4 19.9-31.1 70.8 5.7 85.9L144 379.6V464c0 46.4 59.2 65.5 86.6 28.6l43.8-59.1 111.9 46.2c5.9 2.4 12.1 3.6 18.3 3.6 8.2 0 16.3-2.1 23.6-6.2 12.8-7.2 21.6-20 23.9-34.5l59.4-387.2c6.1-40.1-36.9-68.8-71.5-48.9zM192 464v-64.6l36.6 15.1L192 464zm212.6-28.7l-153.8-63.5L391 169.5c10.7-15.5-9.5-33.5-23.7-21.2L155.8 332.6 48 288 464 48l-59.4 387.3z"}})])])],1)])},i=[],r=a("5530"),c=(a("d81d"),a("fb6a"),a("caad"),a("2532"),a("1276"),a("ac1f"),a("99af"),a("b0c0"),a("7c08")),n=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",[a("button",{staticClass:"wrapper",class:{linked:s.user.isLinked},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),s.handleClick(e)}}},[a("router-link",{attrs:{to:{name:"user",params:{id:s.user.userId}}}},[a("img",{staticClass:"avatar",attrs:{src:s.user.avatar}})]),a("div",{staticClass:"user-wrapper"},[a("div",{staticClass:"user-info"},[a("div",[a("router-link",{attrs:{to:{name:"user",params:{id:s.user.userId}}}},[a("span",{staticClass:"name"},[s._v(s._s(s.user.name))])]),a("router-link",{attrs:{to:{name:"user",params:{id:s.user.userId}}}},[a("span",{staticClass:"account"},[s._v("@"+s._s(s.user.account))])])],1),a("div",{staticClass:"last-time"},[s._v(s._s(s.user.createdAt))])]),a("div",{staticClass:"user-message"},[s._v(s._s(s.user.lastMessage))])])],1)])},o=[],l={name:"PrivateUsers",props:{initialUser:{type:Object,required:!0}},data:function(){return{user:{}}},watch:{initialUser:function(s){this.user=Object(r["a"])(Object(r["a"])({},this.user),s)}},created:function(){this.fetchData()},methods:{handleClick:function(){this.$emit("after-click",this.user)},fetchData:function(){this.user=this.initialUser}}},u=l,d=(a("9a03"),a("2877")),m=Object(d["a"])(u,n,o,!1,null,"1c51d7a0",null),f=m.exports,h=a("0b0f"),p=a("c1df"),v=a.n(p),g=a("2f62"),C=[{id:1,userId:2,name:"Vicki Windler",account:"user2",avatar:"https://loremflickr.com/320/240/dog/?lock=7.643201110272924",lastMessage:"Deleniti qui mollitia ratione qui. Hic ad consequatur perspiciatis odio inventore rem. Dicta similique ducimus. Aut quaerat et ab.",createdAt:"2021-03-14T11:36:40.000Z"},{id:2,userId:3,name:"Phillip Nicolas",account:"user3",avatar:"https://loremflickr.com/320/240/dog/?lock=2.7842269503866035",lastMessage:"Sed iure et molestiae. Sed aliquid et rerum. Quia et nulla. Distinctio ex rerum incidunt aut ullam provident. Debitis laboriosam accusantium est eaque doloribus",createdAt:"2021-03-14T03:36:40.000Z"},{id:3,userId:4,name:"Tommie Ward",account:"user4",avatar:"https://loremflickr.com/320/240/dog/?lock=35.34804975546177",lastMessage:"Rerum omnis rerum laborum repudiandae qui amet.",createdAt:"2021-03-12T15:40:40.000Z"},{id:4,userId:5,name:"Erik Pouros",account:"user5",avatar:"https://loremflickr.com/320/240/dog/?lock=35.00129934402724",lastMessage:"Quod accusamus eius consequatur velit dicta porro praesentium. Quasi beatae ex sequi ea optio omnis. Sapiente facere eos iusto quo itaque reiciendis ut est.",createdAt:"2021-02-10T10:36:40.000Z"}],k={name:"PublicMessage",components:{SideBar:c["a"],PrivateUsers:f,ChatRoom:h["a"]},data:function(){return{privateUsers:[],chatDatas:[],message:"",privateUser:{}}},created:function(){this.fetchPrivateUsers(),this.fetchChatDatas()},methods:{fetchPrivateUsers:function(){this.privateUsers=C.map((function(s){s.lastMessage.length>35&&(s.lastMessage=s.lastMessage.slice(0,35)+" ...");var e=v()(s.createdAt).fromNow(),a="";if(e.includes("hours"))a=e;else{var t=s.createdAt.split("T");t=t[0].split("-"),a="".concat(t[1],"月").concat(t[1],"日")}return{id:s.id,userId:s.userId,name:s.name,account:s.account,avatar:s.avatar,lastMessage:s.lastMessage,createdAt:a,isLinked:!1}})),this.afterClick(this.privateUsers[0])},fetchChatDatas:function(){},afterClick:function(s){var e=this;this.privateUser={id:s.id,userId:s.userId,name:s.name,account:s.account},this.privateUsers=this.privateUsers.map((function(s){return s.id===e.privateUser.id?s.isLinked=!0:s.isLinked=!1,s}))}},computed:Object(r["a"])({},Object(g["b"])(["currentUser"]))},b=k,_=(a("736f"),Object(d["a"])(b,t,i,!1,null,"dd9cd32e",null));e["default"]=_.exports},9928:function(s,e,a){},"9a03":function(s,e,a){"use strict";a("9928")}}]);
//# sourceMappingURL=chunk-39520491.7790c0ab.js.map