{"version":3,"sources":["webpack:///./src/components/ChatRoom.vue?6bff","webpack:///src/components/ChatRoom.vue","webpack:///./src/components/ChatRoom.vue?8417","webpack:///./src/components/ChatRoom.vue","webpack:///./src/components/ChatRoom.vue?98f4","webpack:///./src/views/PrivateMessages.vue?d345","webpack:///./src/views/PrivateMessages.vue?311b","webpack:///./src/components/PrivateUsers.vue?3f8f","webpack:///src/components/PrivateUsers.vue","webpack:///./src/components/PrivateUsers.vue?4c6a","webpack:///./src/components/PrivateUsers.vue","webpack:///src/views/PrivateMessages.vue","webpack:///./src/views/PrivateMessages.vue?ff19","webpack:///./src/views/PrivateMessages.vue","webpack:///./src/components/PrivateUsers.vue?d252"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","chatData","name","_e","attrs","avatar","message","time","staticRenderFns","props","type","Object","required","data","messageType","isBroadcastOnline","isBroadcastOffline","isMessageOther","isMessageSelf","created","handleData","methods","component","_l","user","key","id","on","afterClick","privateUser","account","chatDatas","slice","reverse","directives","rawName","value","expression","domProps","$event","indexOf","_k","keyCode","send","target","composing","stopPropagation","preventDefault","class","linked","isLinked","handleClick","params","userId","createdAt","lastMessage","initialUser","watch","fetchData","$emit","components","SideBar","PrivateUsers","ChatRoom","privateUsers","fetchPrivateUsers","fetchChatDatas","dummyData","map","length","formNow","includes","timeArray","split","computed"],"mappings":"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","file":"js/chunk-39520491.7790c0ab.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isBroadcastOnline)?_c('div',{staticClass:\"broadcast-online\"},[_c('span',{staticClass:\"broadcast-online-text\"},[_vm._v(_vm._s(_vm.chatData.name)+\" 上線\")])]):_vm._e(),(_vm.isBroadcastOffline)?_c('div',{staticClass:\"broadcast-offline\"},[_c('span',{staticClass:\"broadcast-offline-text\"},[_vm._v(_vm._s(_vm.chatData.name)+\" 離線\")])]):_vm._e(),(_vm.isMessageOther)?_c('div',{staticClass:\"message-other-wrapper\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.chatData.avatar}}),_c('div',{staticClass:\"message-other-message\"},[_c('div',{staticClass:\"message-other-text-wrapper\"},[_c('span',{staticClass:\"message-other-text\"},[_vm._v(_vm._s(_vm.chatData.message))])]),_c('span',{staticClass:\"message-time\"},[_vm._v(_vm._s(_vm.chatData.time))])])]):_vm._e(),(_vm.isMessageSelf)?_c('div',{staticClass:\"message-self-wrapper\"},[_c('div',{staticClass:\"message-self\"},[_c('div',{staticClass:\"message-self-text-wrapper\"},[_c('span',{staticClass:\"message-self-text\"},[_vm._v(_vm._s(_vm.chatData.message))])]),_c('div',{staticClass:\"message-self-time\"},[_c('div',{staticClass:\"message-time\"},[_vm._v(_vm._s(_vm.chatData.time))])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"broadcast-online\" v-if=\"isBroadcastOnline\">\n      <span class=\"broadcast-online-text\">{{ chatData.name }} 上線</span>\n    </div>\n    <div class=\"broadcast-offline\" v-if=\"isBroadcastOffline\">\n      <span class=\"broadcast-offline-text\">{{ chatData.name }} 離線</span>\n    </div>\n    <div class=\"message-other-wrapper\" v-if=\"isMessageOther\">\n      <img class=\"avatar\" :src=\"chatData.avatar\" />\n      <div class=\"message-other-message\">\n        <div class=\"message-other-text-wrapper\">\n          <span class=\"message-other-text\">{{ chatData.message }}</span>\n        </div>\n        <span class=\"message-time\">{{ chatData.time }}</span>\n      </div>\n    </div>\n    <div class=\"message-self-wrapper\" v-if=\"isMessageSelf\">\n      <div class=\"message-self\">\n        <div class=\"message-self-text-wrapper\">\n          <span class=\"message-self-text\">{{ chatData.message }}</span>\n        </div>\n        <div class=\"message-self-time\">\n          <div class=\"message-time\">{{ chatData.time }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ChatRoom',\n  props: {\n    chatData: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      messageType: this.chatData.messageType,\n      isBroadcastOnline: false,\n      isBroadcastOffline: false,\n      isMessageOther: false,\n      isMessageSelf: false,\n    }\n  },\n  created() {\n    this.handleData()\n  },\n  methods: {\n    handleData() {\n      switch (this.messageType) {\n        case 'broadcast-online':\n          this.isBroadcastOnline = true\n          this.isBroadcastOffline = false\n          this.isMessageOther = false\n          this.isMessageSelf = false\n          break\n        case 'broadcast-offline':\n          this.isBroadcastOnline = false\n          this.isBroadcastOffline = true\n          this.isMessageOther = false\n          this.isMessageSelf = false\n          break\n        case 'message-other':\n          this.isBroadcastOnline = false\n          this.isBroadcastOffline = false\n          this.isMessageOther = true\n          this.isMessageSelf = false\n          break\n        case 'message-self':\n          this.isBroadcastOnline = false\n          this.isBroadcastOffline = false\n          this.isMessageOther = false\n          this.isMessageSelf = true\n          break\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n.broadcast-online,\n.broadcast-offline {\n  height: 50px;\n  text-align: center;\n}\n\n.broadcast-online-text,\n.broadcast-offline-text {\n  line-height: 50px;\n  padding: 0 10px 0 10px;\n  color: #657786;\n  border-radius: 50px;\n  background: #eee;\n}\n\n.avatar {\n  margin-bottom: 25px;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n}\n\n.message-other-wrapper {\n  display: flex;\n  align-items: flex-end;\n}\n\n.message-other-message {\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n}\n\n.message-other-text-wrapper,\n.message-self-wrapper {\n  align-items: center;\n  padding: 15px 20px 15px 20px;\n}\n\n.message-other-message,\n.message-self {\n  max-width: 300px;\n}\n\n.message-other-text-wrapper {\n  background: #e6ecf0;\n  border-radius: 30px 20px 20px 0;\n}\n\n.message-self-text-wrapper {\n  padding: 15px;\n  background: #ff6600;\n  border-radius: 20px 20px 0 30px;\n}\n\n.message-other-text,\n.message-self-text {\n  overflow-wrap: anywhere;\n}\n\n.message-self-text {\n  color: #fff;\n}\n\n.message-time {\n  color: #657786;\n}\n\n.message-self-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n.message-self-time {\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatRoom.vue?vue&type=template&id=1e11cd6d&scoped=true&\"\nimport script from \"./ChatRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatRoom.vue?vue&type=style&index=0&id=1e11cd6d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e11cd6d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=style&index=0&id=1e11cd6d&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateMessages.vue?vue&type=style&index=0&id=dd9cd32e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"wrapper\"},[_c('SideBar',{staticClass:\"side-bar\"}),_c('div',{staticClass:\"header-users\"},[_vm._v(\" 訊息 \"),_c('svg',{staticClass:\"header-icon\",attrs:{\"width\":\"20\",\"height\":\"19\",\"viewBox\":\"0 0 20 19\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M17.25 0.0180054H2.75C1.233 0.0180054 0 1.25201 0 2.77001V15.265C0 16.783 1.233 18.018 2.75 18.018H17.25C18.767 18.018 20 16.783 20 15.265V2.77001C20 1.25201 18.767 0.0180054 17.25 0.0180054ZM2.75 1.51801H17.25C17.94 1.51801 18.5 2.07801 18.5 2.76801V3.48201L10.45 8.84901C10.177 9.02901 9.824 9.03101 9.55 8.84701L1.5 3.48201V2.76801C1.5 2.07801 2.06 1.51801 2.75 1.51801ZM17.25 16.516H2.75C2.06 16.516 1.5 15.956 1.5 15.266V5.24001L8.74 10.07C9.123 10.326 9.562 10.454 10 10.454C10.44 10.454 10.877 10.326 11.26 10.071L18.5 5.24101V15.263C18.5 15.953 17.94 16.513 17.25 16.513V16.516Z\",\"fill\":\"black\"}})])]),_c('div',{staticClass:\"private-users-wrapper\"},_vm._l((_vm.privateUsers),function(user){return _c('PrivateUsers',{key:user.id,staticClass:\"private-users\",attrs:{\"initial-user\":user},on:{\"after-click\":_vm.afterClick}})}),1),_c('div',{staticClass:\"header-room\"},[_c('div',{staticClass:\"header-room-name\"},[_vm._v(_vm._s(_vm.privateUser.name))]),_c('div',{staticClass:\"header-room-account\"},[_vm._v(_vm._s(_vm.privateUser.account))])]),_c('div',{staticClass:\"chat-room-wrapper\"},_vm._l((_vm.chatDatas.slice().reverse()),function(chatData){return _c('ChatRoom',{key:chatData.id,staticClass:\"chat-room\",attrs:{\"chatData\":chatData}})}),1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"input-text\",attrs:{\"MessageType\":\"text\",\"placeholder\":\"輸入訊息...\"},domProps:{\"value\":(_vm.message)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.send($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}}),_c('button',{staticClass:\"input-icon\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.send($event)}}},[_c('svg',{staticClass:\"svg-inline--fa fa-paper-plane fa-w-16\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"far\",\"data-icon\":\"paper-plane\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"data-fa-i2svg\":\"\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M440 6.5L24 246.4c-34.4 19.9-31.1 70.8 5.7 85.9L144 379.6V464c0 46.4 59.2 65.5 86.6 28.6l43.8-59.1 111.9 46.2c5.9 2.4 12.1 3.6 18.3 3.6 8.2 0 16.3-2.1 23.6-6.2 12.8-7.2 21.6-20 23.9-34.5l59.4-387.2c6.1-40.1-36.9-68.8-71.5-48.9zM192 464v-64.6l36.6 15.1L192 464zm212.6-28.7l-153.8-63.5L391 169.5c10.7-15.5-9.5-33.5-23.7-21.2L155.8 332.6 48 288 464 48l-59.4 387.3z\"}})])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{staticClass:\"wrapper\",class:{ linked: _vm.user.isLinked },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleClick($event)}}},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: _vm.user.userId } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.user.avatar}})]),_c('div',{staticClass:\"user-wrapper\"},[_c('div',{staticClass:\"user-info\"},[_c('div',[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: _vm.user.userId } }}},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.user.name))])]),_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: _vm.user.userId } }}},[_c('span',{staticClass:\"account\"},[_vm._v(\"@\"+_vm._s(_vm.user.account))])])],1),_c('div',{staticClass:\"last-time\"},[_vm._v(_vm._s(_vm.user.createdAt))])]),_c('div',{staticClass:\"user-message\"},[_vm._v(_vm._s(_vm.user.lastMessage))])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <button\n      class=\"wrapper\"\n      :class=\"{ linked: user.isLinked }\"\n      @click.stop.prevent=\"handleClick\"\n    >\n      <router-link :to=\"{ name: 'user', params: { id: user.userId } }\">\n        <img class=\"avatar\" :src=\"user.avatar\" />\n      </router-link>\n      <div class=\"user-wrapper\">\n        <div class=\"user-info\">\n          <div>\n            <router-link :to=\"{ name: 'user', params: { id: user.userId } }\">\n              <span class=\"name\">{{ user.name }}</span>\n            </router-link>\n            <router-link :to=\"{ name: 'user', params: { id: user.userId } }\">\n              <span class=\"account\">@{{ user.account }}</span>\n            </router-link>\n          </div>\n          <div class=\"last-time\">{{ user.createdAt }}</div>\n        </div>\n        <div class=\"user-message\">{{ user.lastMessage }}</div>\n      </div>\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PrivateUsers',\n  props: {\n    initialUser: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      user: {},\n    }\n  },\n  watch: {\n    initialUser(newValue) {\n      this.user = {\n        ...this.user,\n        ...newValue,\n      }\n    },\n  },\n  created() {\n    this.fetchData()\n  },\n  methods: {\n    handleClick() {\n      this.$emit('after-click', this.user)\n    },\n    fetchData() {\n      this.user = this.initialUser\n    },\n  },\n}\n</script>\n\n<style scoped>\n.wrapper {\n  display: flex;\n  align-items: center;\n  padding: 0 10px 0 10px;\n  height: 80px;\n}\n\n.linked {\n  background: #f5f8fa;\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.08);\n}\n\n.user-wrapper {\n  margin-left: 10px;\n  width: 370px;\n}\n\n.user-info {\n  display: flex;\n  justify-content: space-between;\n}\n\n.avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n}\n\n.name {\n  font-weight: bold;\n  font-size: 15px;\n}\n\n.account {\n  margin-left: 5px;\n  font-weight: 500;\n  font-size: 15px;\n}\n\n.account,\n.last-time,\n.user-message {\n  color: #657786;\n  text-align: start;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateUsers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateUsers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrivateUsers.vue?vue&type=template&id=1c51d7a0&scoped=true&\"\nimport script from \"./PrivateUsers.vue?vue&type=script&lang=js&\"\nexport * from \"./PrivateUsers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrivateUsers.vue?vue&type=style&index=0&id=1c51d7a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c51d7a0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container\">\n    <div class=\"wrapper\">\n      <SideBar class=\"side-bar\" />\n\n      <div class=\"header-users\">\n        訊息\n        <svg\n          class=\"header-icon\"\n          width=\"20\"\n          height=\"19\"\n          viewBox=\"0 0 20 19\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M17.25 0.0180054H2.75C1.233 0.0180054 0 1.25201 0 2.77001V15.265C0 16.783 1.233 18.018 2.75 18.018H17.25C18.767 18.018 20 16.783 20 15.265V2.77001C20 1.25201 18.767 0.0180054 17.25 0.0180054ZM2.75 1.51801H17.25C17.94 1.51801 18.5 2.07801 18.5 2.76801V3.48201L10.45 8.84901C10.177 9.02901 9.824 9.03101 9.55 8.84701L1.5 3.48201V2.76801C1.5 2.07801 2.06 1.51801 2.75 1.51801ZM17.25 16.516H2.75C2.06 16.516 1.5 15.956 1.5 15.266V5.24001L8.74 10.07C9.123 10.326 9.562 10.454 10 10.454C10.44 10.454 10.877 10.326 11.26 10.071L18.5 5.24101V15.263C18.5 15.953 17.94 16.513 17.25 16.513V16.516Z\"\n            fill=\"black\"\n          />\n        </svg>\n      </div>\n      <div class=\"private-users-wrapper\">\n        <PrivateUsers\n          class=\"private-users\"\n          v-for=\"user in privateUsers\"\n          :key=\"user.id\"\n          :initial-user=\"user\"\n          @after-click=\"afterClick\"\n        />\n      </div>\n\n      <div class=\"header-room\">\n        <div class=\"header-room-name\">{{ privateUser.name }}</div>\n        <div class=\"header-room-account\">{{ privateUser.account }}</div>\n      </div>\n      <div class=\"chat-room-wrapper\">\n        <ChatRoom\n          class=\"chat-room\"\n          v-for=\"chatData in chatDatas.slice().reverse()\"\n          :key=\"chatData.id\"\n          :chatData=\"chatData\"\n        />\n      </div>\n      <input\n        @keypress.enter=\"send\"\n        class=\"input-text\"\n        MessageType=\"text\"\n        placeholder=\"輸入訊息...\"\n        v-model=\"message\"\n      />\n      <button @click.stop.prevent=\"send\" class=\"input-icon\">\n        <svg\n          class=\"svg-inline--fa fa-paper-plane fa-w-16\"\n          aria-hidden=\"true\"\n          focusable=\"false\"\n          data-prefix=\"far\"\n          data-icon=\"paper-plane\"\n          role=\"img\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 512 512\"\n          data-fa-i2svg=\"\"\n        >\n          <path\n            fill=\"currentColor\"\n            d=\"M440 6.5L24 246.4c-34.4 19.9-31.1 70.8 5.7 85.9L144 379.6V464c0 46.4 59.2 65.5 86.6 28.6l43.8-59.1 111.9 46.2c5.9 2.4 12.1 3.6 18.3 3.6 8.2 0 16.3-2.1 23.6-6.2 12.8-7.2 21.6-20 23.9-34.5l59.4-387.2c6.1-40.1-36.9-68.8-71.5-48.9zM192 464v-64.6l36.6 15.1L192 464zm212.6-28.7l-153.8-63.5L391 169.5c10.7-15.5-9.5-33.5-23.7-21.2L155.8 332.6 48 288 464 48l-59.4 387.3z\"\n          ></path>\n        </svg>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nconst dummyData = [\n  {\n    id: 1,\n    userId: 2,\n    name: 'Vicki Windler',\n    account: 'user2',\n    avatar: 'https://loremflickr.com/320/240/dog/?lock=7.643201110272924',\n    lastMessage:\n      'Deleniti qui mollitia ratione qui. Hic ad consequatur perspiciatis odio inventore rem. Dicta similique ducimus. Aut quaerat et ab.',\n    createdAt: '2021-03-14T11:36:40.000Z',\n  },\n  {\n    id: 2,\n    userId: 3,\n    name: 'Phillip Nicolas',\n    account: 'user3',\n    avatar: 'https://loremflickr.com/320/240/dog/?lock=2.7842269503866035',\n    lastMessage:\n      'Sed iure et molestiae. Sed aliquid et rerum. Quia et nulla. Distinctio ex rerum incidunt aut ullam provident. Debitis laboriosam accusantium est eaque doloribus',\n    createdAt: '2021-03-14T03:36:40.000Z',\n  },\n  {\n    id: 3,\n    userId: 4,\n    name: 'Tommie Ward',\n    account: 'user4',\n    avatar: 'https://loremflickr.com/320/240/dog/?lock=35.34804975546177',\n    lastMessage: 'Rerum omnis rerum laborum repudiandae qui amet.',\n    createdAt: '2021-03-12T15:40:40.000Z',\n  },\n  {\n    id: 4,\n    userId: 5,\n    name: 'Erik Pouros',\n    account: 'user5',\n    avatar: 'https://loremflickr.com/320/240/dog/?lock=35.00129934402724',\n    lastMessage:\n      'Quod accusamus eius consequatur velit dicta porro praesentium. Quasi beatae ex sequi ea optio omnis. Sapiente facere eos iusto quo itaque reiciendis ut est.',\n    createdAt: '2021-02-10T10:36:40.000Z',\n  },\n]\n\nimport SideBar from './../components/SideBar'\nimport PrivateUsers from './../components/PrivateUsers'\nimport ChatRoom from './../components/ChatRoom'\nimport moment from 'moment'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'PublicMessage',\n  components: {\n    SideBar,\n    PrivateUsers,\n    ChatRoom,\n  },\n  data() {\n    return {\n      privateUsers: [],\n      chatDatas: [],\n      message: '',\n      privateUser: {},\n    }\n  },\n  created() {\n    this.fetchPrivateUsers()\n    this.fetchChatDatas()\n  },\n  methods: {\n    fetchPrivateUsers() {\n      // TODO:\n      this.privateUsers = dummyData.map((user) => {\n        if (user.lastMessage.length > 35) {\n          user.lastMessage = user.lastMessage.slice(0, 35) + ' ...'\n        }\n\n        const formNow = moment(user.createdAt).fromNow()\n        let time = ''\n        if (formNow.includes('hours')) {\n          time = formNow\n        } else {\n          let timeArray = user.createdAt.split('T')\n          timeArray = timeArray[0].split('-')\n          time = `${timeArray[1]}月${timeArray[1]}日`\n        }\n\n        return {\n          id: user.id,\n          userId: user.userId,\n          name: user.name,\n          account: user.account,\n          avatar: user.avatar,\n          lastMessage: user.lastMessage,\n          createdAt: time,\n          isLinked: false,\n        }\n      })\n\n      this.afterClick(this.privateUsers[0])\n    },\n    fetchChatDatas() {\n      // TODO:\n      // this.chatDatas = dummyChatDatas\n    },\n    afterClick(user) {\n      this.privateUser = {\n        id: user.id,\n        userId: user.userId,\n        name: user.name,\n        account: user.account,\n      }\n      this.privateUsers = this.privateUsers.map((user) => {\n        if (user.id === this.privateUser.id) {\n          user.isLinked = true\n        } else {\n          user.isLinked = false\n        }\n        return user\n      })\n    },\n  },\n  computed: {\n    ...mapState(['currentUser']),\n  },\n}\n</script>\n\n<style scoped>\n.wrapper {\n  display: grid;\n  height: 100vh;\n  grid-template-columns: 378px 450px 1fr 50px;\n  grid-template-rows: 55px 1fr 80px;\n}\n\n.side-bar {\n  position: fixed;\n  z-index: 2;\n  grid-column: 1 / 2;\n  grid-row: 1 / 4;\n  padding-left: 103px;\n  width: 378px;\n  height: 100vh;\n  border-right: 1px solid #e6ecf0;\n}\n\n.header-users,\n.header-room {\n  font-family: 'Noto Sans TC', sans-serif;\n  font-weight: 700;\n  font-size: 18px;\n  color: #1c1c1c;\n  background: #fff;\n  border-right: 1px solid #e6ecf0;\n  border-bottom: 1px solid #e6ecf0;\n}\n\n.header-users {\n  padding: 14px 0 0 15px;\n  position: relative;\n  grid-column: 2 / 3;\n  grid-row: 1 / 2;\n}\n\n.header-icon {\n  position: absolute;\n  top: 14px;\n  right: 15px;\n}\n\n.private-users-wrapper {\n  grid-column: 2 / 3;\n  grid-row: 2 / 4;\n  border-right: 1px solid #e6ecf0;\n}\n\n.private-users {\n  border-bottom: 1px solid #e6ecf0;\n}\n\n.header-room {\n  grid-column: 3 / 5;\n  grid-row: 1 / 2;\n  padding-left: 15px;\n}\n\n.header-room-name {\n  font-weight: 900;\n  font-size: 19px;\n}\n\n.header-room-account {\n  font-weight: 500;\n  font-size: 13px;\n  color: #657786;\n}\n\n.chat-room-wrapper {\n  grid-column: 3 / 5;\n  grid-row: 2 / 3;\n  display: flex;\n  flex-direction: column-reverse;\n  margin: 20px;\n  border-bottom: 1px solid #e6ecf0;\n  overflow: auto;\n}\n\n.input-text {\n  grid-column: 3 / 4;\n  grid-row: 3 / 4;\n  margin: 15px 0 0 15px;\n  padding-left: 15px;\n  height: 50px;\n  border-radius: 50px;\n  background: #e6ecf0;\n}\n\n.input-icon {\n  grid-column: 4 / 5;\n  grid-row: 3 / 4;\n  margin: 25px 0 0 10px;\n  width: 24px;\n  height: 24px;\n}\n\n.input-icon path {\n  fill: #ff6600;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateMessages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateMessages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrivateMessages.vue?vue&type=template&id=dd9cd32e&scoped=true&\"\nimport script from \"./PrivateMessages.vue?vue&type=script&lang=js&\"\nexport * from \"./PrivateMessages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrivateMessages.vue?vue&type=style&index=0&id=dd9cd32e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd9cd32e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateUsers.vue?vue&type=style&index=0&id=1c51d7a0&scoped=true&lang=css&\""],"sourceRoot":""}